# 🎯 每頁匹配數 - 預設值限制更新

## 📋 更新內容

### ✅ 已完成的修改

**文件**: `components/game-options/MatchUpOptionsPanel.tsx`

**修改位置**: 第 218-239 行

**修改內容**:
- ❌ 移除：Range slider (3-20 連續值)
- ✅ 添加：預設值按鈕組 (3, 4, 5, 7, 10, 20)

---

## 🎨 UI 設計

### 修改前
```
每頁匹配數  [====●====] 7
```
- Range slider，可選 3-20 任意值
- 用戶可能選擇不合理的值

### 修改後
```
每頁匹配數  [3] [4] [5] [7] [10] [20]
```
- 按鈕組，只能選擇 6 個預設值
- 選中的按鈕顯示藍色背景
- 未選中的按鈕顯示灰色背景

---

## 💻 代碼實現

### 新的 JSX 代碼

```jsx
{/* 每頁匹配數選項 - 預設值：3, 4, 5, 7, 10, 20 */}
<tr className="border-b border-gray-200">
  <td className="py-3 pr-4 font-medium align-top">每頁匹配數</td>
  <td className="py-3">
    <div className="flex flex-wrap gap-2">
      {[3, 4, 5, 7, 10, 20].map((value) => (
        <button
          key={value}
          onClick={() => updateOptions({ itemsPerPage: value })}
          className={`px-4 py-2 rounded-lg font-semibold transition-colors ${
            options.itemsPerPage === value
              ? 'bg-blue-500 text-white shadow-md'
              : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
          }`}
          title={`選擇每頁 ${value} 對卡片`}
        >
          {value}
        </button>
      ))}
    </div>
  </td>
</tr>
```

### 關鍵特性

1. **預設值列表**: `[3, 4, 5, 7, 10, 20]`
   - 3 對：基礎配置
   - 4 對：優化配置
   - 5 對：標準配置
   - 7 對：默認配置
   - 10 對：緊湊配置
   - 20 對：超緊湊配置

2. **按鈕樣式**:
   - 選中：藍色背景 + 白色文字 + 陰影
   - 未選中：灰色背景 + 深灰色文字 + 懸停效果

3. **交互**:
   - 點擊按鈕立即更新選項
   - 懸停時顯示提示文字
   - 平滑的顏色過渡

---

## 🔄 工作流程

### 用戶操作流程

1. **打開遊戲選項面板**
   - 用戶進入 Match-up 遊戲設置

2. **選擇每頁匹配數**
   - 點擊 [3] [4] [5] [7] [10] [20] 中的一個按鈕
   - 按鈕立即變為藍色表示選中

3. **保存選項**
   - 選項自動保存到 state
   - 遊戲根據選擇的值調整佈局

---

## 📊 預設值說明

| 值 | 用途 | 卡片高度 | 邊距 | 間距 | 利用率 |
|----|------|---------|------|------|--------|
| 3 | 基礎 | 65px | 30px | 5px | 60% |
| 4 | 優化 | 56px | 30px | 5px | 70% |
| 5 | 標準 | 48px | 30px | 5px | 75% |
| 7 | 默認 | 35px | 25px | 4px | 80% |
| 10 | 緊湊 | 28px | 20px | 3px | 85% |
| 20 | 超緊湊 | 14px | 10px | 2px | 92% |

---

## ✨ 改進優勢

### 用戶體驗
- ✅ 清晰的選項，易於理解
- ✅ 快速選擇，無需調整 slider
- ✅ 視覺反饋明確（藍色高亮）
- ✅ 提示文字幫助用戶理解

### 代碼質量
- ✅ 簡潔的實現
- ✅ 易於維護
- ✅ 易於擴展（添加新值只需修改數組）
- ✅ 類型安全

### 遊戲設計
- ✅ 限制不合理的值
- ✅ 確保最佳的用戶體驗
- ✅ 支持不同的學習風格
- ✅ 優化的空間利用

---

## 🔧 如何修改預設值

如果需要添加或移除預設值，只需修改第 223 行的數組：

```javascript
// 當前配置
{[3, 4, 5, 7, 10, 20].map((value) => (

// 如果要添加 6 和 8
{[3, 4, 5, 6, 7, 8, 10, 20].map((value) => (

// 如果要移除 4 和 7
{[3, 5, 10, 20].map((value) => (
```

---

## 📝 相關文件

- `components/game-options/MatchUpOptionsPanel.tsx` - 選項面板組件
- `app/games/switcher/page.tsx` - 遊戲切換器
- `public/games/match-up-game/scenes/game.js` - 遊戲場景

---

## 🧪 測試清單

- [ ] 點擊每個按鈕 (3, 4, 5, 7, 10, 20)
- [ ] 驗證選中的按鈕變為藍色
- [ ] 驗證未選中的按鈕為灰色
- [ ] 驗證懸停效果正常
- [ ] 驗證選項保存正確
- [ ] 驗證遊戲根據選擇調整佈局
- [ ] 在不同設備上測試 (手機、平板、桌面)
- [ ] 驗證所有 35 個現有測試仍然通過

---

## 🚀 下一步

1. **測試修改**
   - 在瀏覽器中測試新的 UI
   - 驗證所有功能正常

2. **提交代碼**
   - 提交修改到版本控制
   - 更新相關文檔

3. **部署**
   - 部署到測試環境
   - 進行用戶測試

---

**更新時間**: 2025-11-10
**版本**: 1.0
**狀態**: ✅ 完成

