<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ® Phaser 2 æŒ‰éˆ•ç´ ææ¸¬è©¦</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@2.6.2/build/phaser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: Arial, sans-serif;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        #game-container {
            margin: 20px auto;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .button-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .button-category {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .button-category h3 {
            margin-top: 0;
            color: #ffeb3b;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® Phaser 2 æŒ‰éˆ•ç´ æç›¸å®¹æ€§æ¸¬è©¦</h1>
        
        <div class="info">
            <h3>âœ… CraftPix æŒ‰éˆ•ç´ æåŒ…åˆ†æ</h3>
            <p><strong>ç´ æä¾†æº</strong>: craftpix-779104-free-buttons-2d-game-objects.zip</p>
            <p><strong>æ ¼å¼</strong>: PNG (å®Œç¾æ”¯æ´ Phaser 2)</p>
            <p><strong>æ•¸é‡</strong>: 40å€‹æŒ‰éˆ• (20å€‹ç°¡ç´„é¢¨æ ¼ + 20å€‹å…‰æ¾¤é¢¨æ ¼)</p>
        </div>
        
        <div id="game-container"></div>
        
        <div class="button-info">
            <div class="button-category">
                <h3>ğŸ”˜ Simple é¢¨æ ¼ (20å€‹)</h3>
                <p>ç°¡ç´„æ‰å¹³è¨­è¨ˆï¼Œé©åˆç¾ä»£ UI</p>
                <p>æª”æ¡ˆ: simple/1.png ~ simple/20.png</p>
                <p>ç”¨é€”: ä¸»é¸å–®ã€è¨­å®šæŒ‰éˆ•</p>
            </div>
            <div class="button-category">
                <h3>âœ¨ Shiny é¢¨æ ¼ (20å€‹)</h3>
                <p>å…‰æ¾¤ç«‹é«”æ•ˆæœï¼Œé©åˆéŠæˆ²å…§æŒ‰éˆ•</p>
                <p>æª”æ¡ˆ: shiny/1.png ~ shiny/20.png</p>
                <p>ç”¨é€”: éŠæˆ²æŒ‰éˆ•ã€ç‰¹æ•ˆæŒ‰éˆ•</p>
            </div>
        </div>
    </div>

    <script>
        // Phaser 2 éŠæˆ²è¨­å®š
        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game-container', {
            preload: preload,
            create: create,
            update: update
        });

        var buttons = [];
        var currentPage = 0;
        var buttonsPerPage = 40;
        var totalButtons = 40;
        var buttonData = [];

        function preload() {
            // è¼‰å…¥ç°¡ç´„é¢¨æ ¼æŒ‰éˆ• (1-20)
            for (var i = 1; i <= 20; i++) {
                var key = 'simple-' + i;
                game.load.image(key, 'PNG/simple/' + i + '.png');
                buttonData.push({
                    key: key,
                    type: 'Simple',
                    number: i
                });
            }
            
            // è¼‰å…¥å…‰æ¾¤é¢¨æ ¼æŒ‰éˆ• (1-20)
            for (var i = 1; i <= 20; i++) {
                var key = 'shiny-' + i;
                game.load.image(key, 'PNG/shiny/' + i + '.png');
                buttonData.push({
                    key: key,
                    type: 'Shiny',
                    number: i
                });
            }
            
            // è¼‰å…¥æˆåŠŸå›èª¿
            game.load.onLoadComplete.add(function() {
                console.log('âœ… æ‰€æœ‰æŒ‰éˆ•ç´ æè¼‰å…¥å®Œæˆï¼');
                console.log('ğŸ“Š ç¸½è¨ˆè¼‰å…¥:', totalButtons, 'å€‹æŒ‰éˆ•');
            });
        }

        function create() {
            // è¨­ç½®èƒŒæ™¯
            game.stage.backgroundColor = '#2c3e50';
            
            // æ¨™é¡Œæ–‡å­—
            var titleText = game.add.text(400, 30, 'ğŸ® CraftPix æŒ‰éˆ•ç´ æå±•ç¤º', {
                font: '24px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            titleText.anchor.setTo(0.5, 0.5);
            
            // é é¢æŒ‡ç¤ºæ–‡å­—
            var pageText = game.add.text(400, 70, '', {
                font: '16px Arial',
                fill: '#ecf0f1',
                align: 'center'
            });
            pageText.anchor.setTo(0.5, 0.5);
            
            // å‰µå»ºæŒ‰éˆ•å±•ç¤º
            createButtonDisplay();
            
            // å‰µå»ºå°èˆªæŒ‰éˆ•
            createNavigationButtons();
            
            // æ›´æ–°é é¢è³‡è¨Š
            updatePageInfo();
        }
        
        function createButtonDisplay() {
            // æ¸…é™¤ç¾æœ‰æŒ‰éˆ•
            buttons.forEach(function(btn) {
                if (btn.sprite) btn.sprite.destroy();
                if (btn.text) btn.text.destroy();
            });
            buttons = [];
            
            var startIndex = currentPage * buttonsPerPage;
            var endIndex = Math.min(startIndex + buttonsPerPage, totalButtons);
            
            var cols = 10;
            var rows = 4;
            var startX = 80;
            var startY = 120;
            var spacingX = 70;
            var spacingY = 60;
            
            for (var i = startIndex; i < endIndex; i++) {
                var data = buttonData[i];
                var col = (i - startIndex) % cols;
                var row = Math.floor((i - startIndex) / cols);
                
                var x = startX + col * spacingX;
                var y = startY + row * spacingY;
                
                // å‰µå»ºæŒ‰éˆ•ç²¾éˆ
                var buttonSprite = game.add.sprite(x, y, data.key);
                buttonSprite.anchor.setTo(0.5, 0.5);
                buttonSprite.scale.setTo(0.12, 0.12);
                
                // æ·»åŠ äº’å‹•æ•ˆæœ
                buttonSprite.inputEnabled = true;
                buttonSprite.events.onInputOver.add(function(sprite) {
                    sprite.scale.setTo(0.18, 0.18);
                }, this);
                buttonSprite.events.onInputOut.add(function(sprite) {
                    sprite.scale.setTo(0.12, 0.12);
                }, this);
                buttonSprite.events.onInputDown.add(function(sprite) {
                    sprite.scale.setTo(0.09, 0.09);
                }, this);
                buttonSprite.events.onInputUp.add(function(sprite) {
                    sprite.scale.setTo(0.18, 0.18);
                }, this);
                
                // å‰µå»ºæ¨™ç±¤æ–‡å­—
                var labelText = game.add.text(x, y + 50, data.type + ' ' + data.number, {
                    font: '12px Arial',
                    fill: '#ffffff',
                    align: 'center'
                });
                labelText.anchor.setTo(0.5, 0.5);
                
                buttons.push({
                    sprite: buttonSprite,
                    text: labelText,
                    data: data
                });
            }
        }
        
        function createNavigationButtons() {
            // ä¸Šä¸€é æŒ‰éˆ•
            var prevButton = game.add.graphics(100, 550);
            prevButton.beginFill(0x3498db);
            prevButton.drawRoundedRect(0, 0, 80, 40, 5);
            prevButton.endFill();
            prevButton.inputEnabled = true;
            prevButton.events.onInputDown.add(function() {
                if (currentPage > 0) {
                    currentPage--;
                    createButtonDisplay();
                    updatePageInfo();
                }
            });
            
            var prevText = game.add.text(140, 570, 'ä¸Šä¸€é ', {
                font: '14px Arial',
                fill: '#ffffff'
            });
            prevText.anchor.setTo(0.5, 0.5);
            
            // ä¸‹ä¸€é æŒ‰éˆ•
            var nextButton = game.add.graphics(620, 550);
            nextButton.beginFill(0x3498db);
            nextButton.drawRoundedRect(0, 0, 80, 40, 5);
            nextButton.endFill();
            nextButton.inputEnabled = true;
            nextButton.events.onInputDown.add(function() {
                var maxPages = Math.ceil(totalButtons / buttonsPerPage);
                if (currentPage < maxPages - 1) {
                    currentPage++;
                    createButtonDisplay();
                    updatePageInfo();
                }
            });
            
            var nextText = game.add.text(660, 570, 'ä¸‹ä¸€é ', {
                font: '14px Arial',
                fill: '#ffffff'
            });
            nextText.anchor.setTo(0.5, 0.5);
        }
        
        function updatePageInfo() {
            var maxPages = Math.ceil(totalButtons / buttonsPerPage);
            var pageInfo = 'ç¬¬ ' + (currentPage + 1) + ' é  / å…± ' + maxPages + ' é ';
            
            // æ›´æ–°é é¢è³‡è¨Šæ–‡å­—
            game.world.children.forEach(function(child) {
                if (child.text && child.text.includes('ç¬¬')) {
                    child.text = pageInfo;
                }
            });
            
            // å¦‚æœæ‰¾ä¸åˆ°ç¾æœ‰çš„é é¢è³‡è¨Šæ–‡å­—ï¼Œå‰µå»ºæ–°çš„
            var pageText = game.add.text(400, 70, pageInfo, {
                font: '16px Arial',
                fill: '#ecf0f1',
                align: 'center'
            });
            pageText.anchor.setTo(0.5, 0.5);
        }

        function update() {
            // éŠæˆ²æ›´æ–°é‚è¼¯
        }
    </script>
</body>
</html>
