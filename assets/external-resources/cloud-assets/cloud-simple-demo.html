<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>â˜ï¸ é›²æœµç´ æåŒ…å±•ç¤º</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@2.6.2/build/phaser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #87CEEB 0%, #4682B4 100%);
            font-family: Arial, sans-serif;
            color: white;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        #game-container {
            margin: 20px auto;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            background: #87CEEB;
        }
        
        .cloud-list {
            margin-top: 30px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .list-controls {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .list-controls button {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }
        
        .list-controls button:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .cloud-names-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .cloud-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .cloud-item:hover {
            border-color: #ffeb3b;
            transform: translateY(-2px);
        }
        
        .cloud-item img {
            width: 60px;
            height: 40px;
            margin-bottom: 10px;
            object-fit: contain;
        }
        
        .cloud-item .name {
            font-weight: bold;
            color: #ffeb3b;
            margin-bottom: 5px;
        }
        
        .cloud-item .type {
            font-size: 12px;
            color: #ecf0f1;
        }
        
        .animation-indicator {
            background: #ff4444;
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-size: 10px;
            margin-top: 5px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <h1>â˜ï¸ é›²æœµç´ æåŒ…å®Œæ•´å±•ç¤º</h1>
    
    <div class="info">
        <h3>â›… CraftPix é›²æœµç´ æåŒ…åˆ†æ</h3>
        <p><strong>ç´ æä¾†æº</strong>: craftpix-net-801184-free-clouds-pixel-art-asset-pack.zip</p>
        <p><strong>æ ¼å¼</strong>: PNG (å®Œç¾æ”¯æ´ Phaser 2)</p>
        <p><strong>æ•¸é‡</strong>: 125å€‹æª”æ¡ˆ (120å€‹é›²æœµå‹•ç•«å¹€ + 5å€‹é–ƒé›»å‹•ç•«å¹€)</p>
        <p><strong>ç‹€æ…‹</strong>: âœ… å®Œå…¨é©åˆæˆ‘å€‘çš„å¼•æ“ï¼</p>
    </div>
    
    <div id="game-container"></div>
    
    <div class="cloud-list">
        <h2>ğŸ“‹ é›²æœµå®Œæ•´åˆ—è¡¨</h2>
        <div class="list-controls">
            <button onclick="showWhiteClouds()">â˜ï¸ ç™½è‰²é›²æœµ</button>
            <button onclick="showGrayClouds()">ğŸŒ«ï¸ ç°è‰²é›²æœµ</button>
            <button onclick="showBlackClouds()">â›ˆï¸ é»‘è‰²é›²æœµ</button>
            <button onclick="showLightning()">âš¡ é–ƒé›»å‹•ç•«</button>
            <button onclick="showAllClouds()">ğŸ“‹ å…¨éƒ¨ç´ æ</button>
        </div>
        <div id="cloud-names-list"></div>
    </div>

    <script>
        // Phaser 2 éŠæˆ²è¨­å®š - ç°¡åŒ–ç‰ˆæœ¬
        var game = new Phaser.Game(800, 400, Phaser.CANVAS, 'game-container', {
            preload: preload,
            create: create,
            update: update
        });

        var clouds = [];
        var cloudSprites = [];

        function preload() {
            // åªè¼‰å…¥éƒ¨åˆ†é›²æœµä½œç‚ºå±•ç¤º
            for (var shape = 1; shape <= 3; shape++) {
                var filename = 'cloud_shape' + shape + '_1.png';
                game.load.image('white-cloud-' + shape, 'PNG/Clouds_white/Shape' + shape + '/' + filename);
                game.load.image('gray-cloud-' + shape, 'PNG/Clouds_gray/Shape' + shape + '/' + filename);
                game.load.image('black-cloud-' + shape, 'PNG/Clouds_black/Shape' + shape + '/' + filename);
            }
            
            // è¼‰å…¥é–ƒé›»
            game.load.image('lightning', 'PNG/Lightning/lightning1.png');
            
            console.log('ğŸ® é–‹å§‹è¼‰å…¥é›²æœµç´ æå±•ç¤º...');
        }

        function create() {
            // è¨­ç½®èƒŒæ™¯
            game.stage.backgroundColor = '#87CEEB';
            
            // æ¨™é¡Œæ–‡å­—
            var titleText = game.add.text(400, 30, 'â˜ï¸ é›²æœµç´ æå±•ç¤º', {
                font: '24px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            titleText.anchor.setTo(0.5, 0.5);
            
            // å‰µå»ºéœæ…‹é›²æœµå±•ç¤º
            createStaticClouds();
            
            // èªªæ˜æ–‡å­—
            var instructionText = game.add.text(400, 370, 'âœ… ç´ æè¼‰å…¥æˆåŠŸï¼æŸ¥çœ‹ä¸‹æ–¹å®Œæ•´åˆ—è¡¨ï¼', {
                font: '16px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            instructionText.anchor.setTo(0.5, 0.5);
            
            console.log('âœ… é›²æœµç´ æå±•ç¤ºåˆå§‹åŒ–å®Œæˆï¼');
        }
        
        function createStaticClouds() {
            // å‰µå»ºç™½è‰²é›²æœµå±•ç¤º
            var whiteCloud1 = game.add.sprite(100, 100, 'white-cloud-1');
            whiteCloud1.anchor.setTo(0.5, 0.5);
            whiteCloud1.scale.setTo(0.8, 0.8);
            cloudSprites.push(whiteCloud1);
            
            var whiteCloud2 = game.add.sprite(250, 120, 'white-cloud-2');
            whiteCloud2.anchor.setTo(0.5, 0.5);
            whiteCloud2.scale.setTo(0.6, 0.6);
            cloudSprites.push(whiteCloud2);
            
            // å‰µå»ºç°è‰²é›²æœµå±•ç¤º
            var grayCloud1 = game.add.sprite(400, 110, 'gray-cloud-1');
            grayCloud1.anchor.setTo(0.5, 0.5);
            grayCloud1.scale.setTo(0.7, 0.7);
            cloudSprites.push(grayCloud1);
            
            // å‰µå»ºé»‘è‰²é›²æœµå±•ç¤º
            var blackCloud1 = game.add.sprite(550, 100, 'black-cloud-1');
            blackCloud1.anchor.setTo(0.5, 0.5);
            blackCloud1.scale.setTo(0.8, 0.8);
            cloudSprites.push(blackCloud1);
            
            // å‰µå»ºé–ƒé›»å±•ç¤º
            var lightning = game.add.sprite(700, 150, 'lightning');
            lightning.anchor.setTo(0.5, 0.5);
            lightning.scale.setTo(1.2, 1.2);
            cloudSprites.push(lightning);
            
            // æ·»åŠ æ¨™ç±¤
            addCloudLabels();
        }
        
        function addCloudLabels() {
            var labelStyle = {
                font: '12px Arial',
                fill: '#ffffff',
                align: 'center'
            };
            
            var label1 = game.add.text(100, 160, 'ç™½é›²', labelStyle);
            label1.anchor.setTo(0.5, 0.5);
            
            var label2 = game.add.text(250, 180, 'ç™½é›²', labelStyle);
            label2.anchor.setTo(0.5, 0.5);
            
            var label3 = game.add.text(400, 170, 'ç°é›²', labelStyle);
            label3.anchor.setTo(0.5, 0.5);
            
            var label4 = game.add.text(550, 160, 'é»‘é›²', labelStyle);
            label4.anchor.setTo(0.5, 0.5);
            
            var label5 = game.add.text(700, 220, 'é–ƒé›»', labelStyle);
            label5.anchor.setTo(0.5, 0.5);
        }

        function update() {
            // ç°¡å–®çš„æµ®å‹•æ•ˆæœ
            for (var i = 0; i < cloudSprites.length; i++) {
                var cloud = cloudSprites[i];
                cloud.y += Math.sin(game.time.now * 0.001 + i) * 0.5;
            }
        }
        
        // é›²æœµåç¨±æ•¸æ“š
        var cloudNames = {
            white: [
                "ç©é›²", "å±¤é›²", "å·é›²", "é«˜ç©é›²", "å±¤ç©é›²", "é›¨é›²", "æ²ç©é›²", "é«˜å±¤é›²"
            ],
            gray: [
                "é™°é›²", "é›¨é›²", "éœ§é›²", "æš´é›²", "åšé›²", "å¯†é›²", "é‡é›²", "æ¿ƒé›²"
            ],
            black: [
                "é›·é›²", "æš´é›²", "çƒé›²", "é¢¨æš´é›²", "é¾æ²é›²", "é¢±é¢¨é›²", "é›¹é›²", "é–ƒé›»é›²"
            ],
            lightning: ["é–ƒé›»"]
        };
        
        function showWhiteClouds() {
            displayCloudList('white');
        }
        
        function showGrayClouds() {
            displayCloudList('gray');
        }
        
        function showBlackClouds() {
            displayCloudList('black');
        }
        
        function showLightning() {
            displayCloudList('lightning');
        }
        
        function showAllClouds() {
            displayCloudList('all');
        }
        
        function displayCloudList(type) {
            var container = document.getElementById('cloud-names-list');
            container.innerHTML = '';
            container.className = 'cloud-names-list';
            
            if (type === 'white' || type === 'all') {
                for (var i = 0; i < cloudNames.white.length; i++) {
                    var item = createCloudItem('white', i + 1, cloudNames.white[i], true);
                    container.appendChild(item);
                }
            }
            
            if (type === 'gray' || type === 'all') {
                for (var i = 0; i < cloudNames.gray.length; i++) {
                    var item = createCloudItem('gray', i + 1, cloudNames.gray[i], true);
                    container.appendChild(item);
                }
            }
            
            if (type === 'black' || type === 'all') {
                for (var i = 0; i < cloudNames.black.length; i++) {
                    var item = createCloudItem('black', i + 1, cloudNames.black[i], true);
                    container.appendChild(item);
                }
            }
            
            if (type === 'lightning' || type === 'all') {
                var item = createCloudItem('lightning', 1, cloudNames.lightning[0], true);
                container.appendChild(item);
            }
        }
        
        function createCloudItem(type, number, name, animated) {
            var item = document.createElement('div');
            item.className = 'cloud-item';

            // æ·»åŠ é»æ“Šäº‹ä»¶
            item.onclick = function() {
                showCloudInCanvas(type, number, name);
            };
            item.style.cursor = 'pointer';

            var img = document.createElement('img');
            if (type === 'lightning') {
                img.src = 'PNG/Lightning/lightning1.png';
            } else {
                var filename = number === 8 ? 'clouds_shape' + number + '_1.png' : 'cloud_shape' + number + '_1.png';
                img.src = 'PNG/Clouds_' + type + '/Shape' + number + '/' + filename;
            }
            img.alt = name;
            img.onerror = function() {
                this.style.display = 'none';
            };

            var nameDiv = document.createElement('div');
            nameDiv.className = 'name';
            nameDiv.textContent = name;

            var typeDiv = document.createElement('div');
            typeDiv.className = 'type';
            if (type === 'lightning') {
                typeDiv.textContent = 'Lightning (é»æ“Šåœ¨ç•«å¸ƒä¸­æŸ¥çœ‹)';
            } else {
                typeDiv.textContent = type.charAt(0).toUpperCase() + type.slice(1) + ' Shape ' + number + ' (é»æ“Šåœ¨ç•«å¸ƒä¸­æŸ¥çœ‹)';
            }

            if (animated) {
                var animDiv = document.createElement('div');
                animDiv.className = 'animation-indicator';
                animDiv.textContent = '5å¹€å‹•ç•«';
                item.appendChild(animDiv);
            }

            item.appendChild(img);
            item.appendChild(nameDiv);
            item.appendChild(typeDiv);

            return item;
        }

        // åœ¨ç•«å¸ƒä¸­é¡¯ç¤ºé¸ä¸­çš„é›²æœµ
        function showCloudInCanvas(type, number, name) {
            // æ¸…é™¤ç¾æœ‰çš„é›²æœµ
            for (var i = 0; i < cloudSprites.length; i++) {
                cloudSprites[i].destroy();
            }
            cloudSprites = [];

            // è¼‰å…¥ä¸¦é¡¯ç¤ºé¸ä¸­çš„é›²æœµ
            var spriteKey;
            if (type === 'lightning') {
                spriteKey = 'lightning';
            } else {
                spriteKey = type + '-cloud-' + number;

                // å¦‚æœç´ æé‚„æ²’è¼‰å…¥ï¼Œå…ˆè¼‰å…¥
                if (!game.cache.checkImageKey(spriteKey)) {
                    var filename = number === 8 ? 'clouds_shape' + number + '_1.png' : 'cloud_shape' + number + '_1.png';
                    game.load.image(spriteKey, 'PNG/Clouds_' + type + '/Shape' + number + '/' + filename);
                    game.load.start();

                    // è¼‰å…¥å®Œæˆå¾Œé¡¯ç¤º
                    game.load.onLoadComplete.addOnce(function() {
                        displaySelectedCloud(spriteKey, name);
                    });
                } else {
                    displaySelectedCloud(spriteKey, name);
                }
            }

            if (type === 'lightning') {
                displaySelectedCloud(spriteKey, name);
            }
        }

        function displaySelectedCloud(spriteKey, name) {
            // åœ¨ç•«å¸ƒä¸­å¤®é¡¯ç¤ºé¸ä¸­çš„é›²æœµ
            var selectedCloud = game.add.sprite(400, 200, spriteKey);
            selectedCloud.anchor.setTo(0.5, 0.5);
            selectedCloud.scale.setTo(1.5, 1.5);
            cloudSprites.push(selectedCloud);

            // æ›´æ–°æ¨™é¡Œ
            var titleText = game.add.text(400, 30, 'â˜ï¸ ç•¶å‰é¡¯ç¤º: ' + name, {
                font: '24px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            titleText.anchor.setTo(0.5, 0.5);

            // æ·»åŠ èªªæ˜
            var instructionText = game.add.text(400, 370, 'âœ… é»æ“Šä¸‹æ–¹åˆ—è¡¨ä¸­çš„ä»»ä½•é›²æœµåœ¨æ­¤æŸ¥çœ‹ï¼', {
                font: '16px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            instructionText.anchor.setTo(0.5, 0.5);

            console.log('âœ… åœ¨ç•«å¸ƒä¸­é¡¯ç¤º:', name);
        }
        
        // é é¢è¼‰å…¥å®Œæˆå¾Œé¡¯ç¤ºæ‰€æœ‰é›²æœµ
        window.onload = function() {
            setTimeout(function() {
                showAllClouds();
            }, 1000);
        };
    </script>
</body>
</html>
