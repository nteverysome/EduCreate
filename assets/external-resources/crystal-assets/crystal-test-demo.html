<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’ Phaser 2 æ°´æ™¶ç´ ææ¸¬è©¦</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@2.6.2/build/phaser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: Arial, sans-serif;
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        
        h1 {
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .info {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        #game-container {
            margin: 20px auto;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .crystal-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        .crystal-category {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .crystal-category h3 {
            margin-top: 0;
            color: #ffeb3b;
        }

        .crystal-list {
            margin-top: 30px;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .list-controls {
            text-align: center;
            margin-bottom: 20px;
        }

        .list-controls button {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .list-controls button:hover {
            background: rgba(255,255,255,0.3);
        }

        .crystal-names-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .crystal-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .crystal-item:hover {
            border-color: #ffeb3b;
            transform: translateY(-2px);
        }

        .crystal-item img {
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
        }

        .crystal-item .name {
            font-weight: bold;
            color: #ffeb3b;
            margin-bottom: 5px;
        }

        .crystal-item .type {
            font-size: 12px;
            color: #ecf0f1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ’ Phaser 2 æ°´æ™¶ç´ æç›¸å®¹æ€§æ¸¬è©¦</h1>
        
        <div class="info">
            <h3>âœ¨ CraftPix æ°´æ™¶ç´ æåŒ…åˆ†æ</h3>
            <p><strong>ç´ æä¾†æº</strong>: craftpix-556112-free-crystals-2d-game-items.zip</p>
            <p><strong>æ ¼å¼</strong>: PNG (å®Œç¾æ”¯æ´ Phaser 2)</p>
            <p><strong>æ•¸é‡</strong>: 40å€‹æ°´æ™¶ (20å€‹ç°¡ç´„é¢¨æ ¼ + 20å€‹å…‰æ¾¤é¢¨æ ¼)</p>
        </div>
        
        <div id="game-container"></div>
        
        <div class="crystal-info">
            <div class="crystal-category">
                <h3>ğŸ’ Simple é¢¨æ ¼ (20å€‹)</h3>
                <p>ç°¡ç´„æ‰å¹³è¨­è¨ˆï¼Œé©åˆç¾ä»£éŠæˆ²</p>
                <p>æª”æ¡ˆ: simple/1.png ~ simple/20.png</p>
                <p>ç”¨é€”: æ”¶é›†å“ã€çå‹µé“å…·</p>
            </div>
            <div class="crystal-category">
                <h3>âœ¨ Shiny é¢¨æ ¼ (20å€‹)</h3>
                <p>å…‰æ¾¤ç«‹é«”æ•ˆæœï¼Œé©åˆé«˜ç´šé“å…·</p>
                <p>æª”æ¡ˆ: shiny/1.png ~ shiny/20.png</p>
                <p>ç”¨é€”: ç¨€æœ‰å¯¶çŸ³ã€ç‰¹æ®Šçå‹µ</p>
            </div>
        </div>

        <div class="crystal-list">
            <h2>ğŸ“‹ æ°´æ™¶å®Œæ•´åˆ—è¡¨</h2>
            <div id="crystal-list-container">
                <div class="list-controls">
                    <button onclick="showSimpleList()">ğŸ’ Simple é¢¨æ ¼</button>
                    <button onclick="showShinyList()">âœ¨ Shiny é¢¨æ ¼</button>
                    <button onclick="showAllList()">ğŸ“‹ å…¨éƒ¨æ°´æ™¶</button>
                </div>
                <div id="crystal-names-list"></div>
            </div>
        </div>
    </div>

    <script>
        // Phaser 2 éŠæˆ²è¨­å®š
        var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'game-container', {
            preload: preload,
            create: create,
            update: update
        });

        var crystals = [];
        var currentPage = 0;
        var crystalsPerPage = 40;
        var totalCrystals = 40;
        var crystalData = [];
        var floatingCrystals = [];

        function preload() {
            // è¼‰å…¥ç°¡ç´„é¢¨æ ¼æ°´æ™¶ (1-20)
            for (var i = 1; i <= 20; i++) {
                var key = 'simple-' + i;
                game.load.image(key, 'PNG/simple/' + i + '.png');
                crystalData.push({
                    key: key,
                    type: 'Simple',
                    number: i
                });
            }
            
            // è¼‰å…¥å…‰æ¾¤é¢¨æ ¼æ°´æ™¶ (1-20)
            for (var i = 1; i <= 20; i++) {
                var key = 'shiny-' + i;
                game.load.image(key, 'PNG/shiny/' + i + '.png');
                crystalData.push({
                    key: key,
                    type: 'Shiny',
                    number: i
                });
            }
            
            // è¼‰å…¥æˆåŠŸå›èª¿
            game.load.onLoadComplete.add(function() {
                console.log('âœ… æ‰€æœ‰æ°´æ™¶ç´ æè¼‰å…¥å®Œæˆï¼');
                console.log('ğŸ’ ç¸½è¨ˆè¼‰å…¥:', totalCrystals, 'å€‹æ°´æ™¶');
            });
        }

        function create() {
            // è¨­ç½®èƒŒæ™¯
            game.stage.backgroundColor = '#1a1a2e';
            
            // æ¨™é¡Œæ–‡å­—
            var titleText = game.add.text(400, 30, 'ğŸ’ CraftPix æ°´æ™¶ç´ æå±•ç¤º', {
                font: '24px Arial',
                fill: '#ffffff',
                align: 'center'
            });
            titleText.anchor.setTo(0.5, 0.5);
            
            // å‰µå»ºæ°´æ™¶å±•ç¤º
            createCrystalDisplay();
            
            // å‰µå»ºæµ®å‹•æ°´æ™¶æ•ˆæœ
            createFloatingCrystals();
            
            // èªªæ˜æ–‡å­—
            var instructionText = game.add.text(400, 570, 'é»æ“Šæ°´æ™¶æ”¶é›†ï¼é«”é©—çœŸå¯¦çš„æ°´æ™¶ç´ ææ•ˆæœï¼', {
                font: '16px Arial',
                fill: '#ecf0f1',
                align: 'center'
            });
            instructionText.anchor.setTo(0.5, 0.5);
        }
        
        function createCrystalDisplay() {
            // æ¸…é™¤ç¾æœ‰æ°´æ™¶
            crystals.forEach(function(crystal) {
                if (crystal.sprite) crystal.sprite.destroy();
                if (crystal.text) crystal.text.destroy();
            });
            crystals = [];
            
            var cols = 10;
            var rows = 4;
            var startX = 80;
            var startY = 120;
            var spacingX = 70;
            var spacingY = 60;
            
            for (var i = 0; i < totalCrystals; i++) {
                var data = crystalData[i];
                var col = i % cols;
                var row = Math.floor(i / cols);
                
                var x = startX + col * spacingX;
                var y = startY + row * spacingY;
                
                // å‰µå»ºæ°´æ™¶ç²¾éˆ
                var crystalSprite = game.add.sprite(x, y, data.key);
                crystalSprite.anchor.setTo(0.5, 0.5);
                crystalSprite.scale.setTo(0.15, 0.15); // é©åˆçš„æ°´æ™¶å¤§å°
                
                // æ·»åŠ äº’å‹•æ•ˆæœ
                crystalSprite.inputEnabled = true;
                crystalSprite.events.onInputOver.add(function(sprite) {
                    sprite.scale.setTo(0.2, 0.2);
                    // æ·»åŠ ç™¼å…‰æ•ˆæœ
                    var tween = game.add.tween(sprite).to({alpha: 0.7}, 300, Phaser.Easing.Sinusoidal.InOut, true, 0, -1, true);
                }, this);
                crystalSprite.events.onInputOut.add(function(sprite) {
                    sprite.scale.setTo(0.15, 0.15);
                    sprite.alpha = 1;
                    game.tweens.removeFrom(sprite);
                }, this);
                crystalSprite.events.onInputDown.add(function(sprite) {
                    // æ”¶é›†æ•ˆæœ
                    var collectTween = game.add.tween(sprite.scale).to({x: 0.3, y: 0.3}, 200, Phaser.Easing.Back.Out, true);
                    collectTween.onComplete.add(function() {
                        var shrinkTween = game.add.tween(sprite.scale).to({x: 0, y: 0}, 300, Phaser.Easing.Back.In, true);
                        shrinkTween.onComplete.add(function() {
                            sprite.scale.setTo(0.15, 0.15);
                            sprite.alpha = 1;
                        });
                    });
                }, this);
                
                // å‰µå»ºæ¨™ç±¤æ–‡å­—
                var labelText = game.add.text(x, y + 35, data.type + ' ' + data.number, {
                    font: '10px Arial',
                    fill: '#ffffff',
                    align: 'center'
                });
                labelText.anchor.setTo(0.5, 0.5);
                
                crystals.push({
                    sprite: crystalSprite,
                    text: labelText,
                    data: data
                });
            }
        }
        
        function createFloatingCrystals() {
            // å‰µå»ºèƒŒæ™¯æµ®å‹•æ°´æ™¶æ•ˆæœ
            for (var i = 0; i < 10; i++) {
                var randomCrystal = crystalData[Math.floor(Math.random() * crystalData.length)];
                var floatingCrystal = game.add.sprite(
                    Math.random() * 800,
                    Math.random() * 600,
                    randomCrystal.key
                );
                floatingCrystal.anchor.setTo(0.5, 0.5);
                floatingCrystal.scale.setTo(0.05, 0.05);
                floatingCrystal.alpha = 0.3;
                
                // æ·»åŠ æµ®å‹•å‹•ç•«
                var floatTween = game.add.tween(floatingCrystal).to({
                    y: floatingCrystal.y + (Math.random() * 100 - 50)
                }, 3000 + Math.random() * 2000, Phaser.Easing.Sinusoidal.InOut, true, 0, -1, true);
                
                // ç§»é™¤æ—‹è½‰å‹•ç•«ï¼Œä¿æŒæ°´æ™¶éœæ­¢
                
                floatingCrystals.push(floatingCrystal);
            }
        }

        function update() {
            // éŠæˆ²æ›´æ–°é‚è¼¯
        }

        // æ°´æ™¶åç¨±æ•¸æ“š
        var crystalNames = {
            simple: [
                "è—å¯¶çŸ³", "ç´…å¯¶çŸ³", "ç¶ å¯¶çŸ³", "ç´«æ°´æ™¶", "é»ƒæ°´æ™¶",
                "ç™½æ°´æ™¶", "ç²‰æ°´æ™¶", "é»‘æ›œçŸ³", "ç‘ªç‘™", "ç¢§ç‰",
                "çŸ³æ¦´çŸ³", "æ©„æ¬–çŸ³", "æµ·è—å¯¶", "æœˆå…‰çŸ³", "æ—¥å…‰çŸ³",
                "è™çœ¼çŸ³", "è²“çœ¼çŸ³", "è›‹ç™½çŸ³", "çç çŸ³", "ç¥ç€çŸ³"
            ],
            shiny: [
                "é‘½çŸ³", "è—é‘½", "ç´…é‘½", "ç¶ é‘½", "é»ƒé‘½",
                "ç™½é‘½", "ç²‰é‘½", "é»‘é‘½", "å½©é‘½", "æ˜Ÿå…‰é‘½",
                "çš‡å®¶è—å¯¶", "è¡€ç´…å¯¶çŸ³", "ç¥–æ¯ç¶ ", "å¸ç‹ç´«æ™¶", "é‡‘é»ƒæ°´æ™¶",
                "æ¥µå…‰æ°´æ™¶", "å½©è™¹æ°´æ™¶", "æ˜Ÿè¾°çŸ³", "æœˆäº®çŸ³", "å¤ªé™½çŸ³"
            ]
        };

        function showSimpleList() {
            displayCrystalList('simple');
        }

        function showShinyList() {
            displayCrystalList('shiny');
        }

        function showAllList() {
            displayCrystalList('all');
        }

        function displayCrystalList(type) {
            var container = document.getElementById('crystal-names-list');
            container.innerHTML = '';
            container.className = 'crystal-names-list';

            if (type === 'simple' || type === 'all') {
                for (var i = 0; i < crystalNames.simple.length; i++) {
                    var item = createCrystalItem('simple', i + 1, crystalNames.simple[i]);
                    container.appendChild(item);
                }
            }

            if (type === 'shiny' || type === 'all') {
                for (var i = 0; i < crystalNames.shiny.length; i++) {
                    var item = createCrystalItem('shiny', i + 1, crystalNames.shiny[i]);
                    container.appendChild(item);
                }
            }
        }

        function createCrystalItem(type, number, name) {
            var item = document.createElement('div');
            item.className = 'crystal-item';

            var img = document.createElement('img');
            img.src = 'PNG/' + type + '/' + number + '.png';
            img.alt = name;
            img.onerror = function() {
                this.style.display = 'none';
            };

            var nameDiv = document.createElement('div');
            nameDiv.className = 'name';
            nameDiv.textContent = name;

            var typeDiv = document.createElement('div');
            typeDiv.className = 'type';
            typeDiv.textContent = type.charAt(0).toUpperCase() + type.slice(1) + ' ' + number;

            item.appendChild(img);
            item.appendChild(nameDiv);
            item.appendChild(typeDiv);

            return item;
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œé¡¯ç¤ºæ‰€æœ‰æ°´æ™¶
        window.onload = function() {
            setTimeout(function() {
                showAllList();
            }, 1000);
        };
    </script>
</body>
</html>
