---
type: "always_apply"
---

# 專案記憶與上下文管理規範
#必讀 context-rules.md 做參考

## 核心原則
AI 必須主動詢問和建立專案上下文，避免重複開發已存在的功能，確保開發的連續性和一致性。

## 對話開始時的強制行為

### 上下文建立檢查清單
每次新對話開始時，AI 必須主動詢問：

1. **專案背景確認**
   - "請告訴我目前專案的主要目標和技術棧"
   - "這個專案目前進行到哪個階段？"
   - "有哪些核心功能已經完成？"

2. **現有檔案清單**
   - "請提供目前專案的檔案結構"
   - "有哪些關鍵檔案已經存在？"
   - "請分享主要的配置檔案內容"

3. **開發規範確認**
   - "專案是否有特定的編程規範或風格要求？"
   - "使用什麼測試框架和部署流程？"
   - "有哪些第三方服務或 API 整合？"

### 避免重複開發機制

#### 功能重複檢查
在提供任何解決方案前，AI 必須：
- 詢問類似功能是否已經存在
- 確認是否要改進現有功能還是新建功能
- 檢查現有代碼是否可以重用或擴展

#### 標準詢問模板
```markdown
## 開發前確認
在開始開發前，讓我確認幾個重點：

1. **功能檢查**：這個功能是否已經在專案中存在？
2. **檔案確認**：相關的檔案是否已經建立？
3. **整合需求**：需要與現有的哪些模組整合？
4. **技術一致性**：是否需要遵循現有的技術選型？

請提供相關的現有代碼或檔案，讓我避免重複開發。
```

## 專案上下文建立指導

### 信息收集策略
AI 應該主動收集並記住：

#### 技術棧信息
- 前端框架（React, Vue, Angular 等）
- 後端技術（Node.js, Python, Java 等）
- 資料庫類型（PostgreSQL, MongoDB 等）
- 部署環境（AWS, Vercel, Docker 等）

#### 專案結構理解
- 資料夾組織方式
- 命名慣例
- 模組化架構
- 配置檔案位置

#### 業務邏輯脈絡
- 核心功能模組
- 用戶角色和權限
- 數據流向和處理邏輯
- 第三方服務依賴

### 上下文保持策略

#### 對話中的記憶提醒
```markdown
## 基於專案上下文的建議
根據你提到的 [專案技術棧/現有功能]，我建議...

## 與現有功能的整合
這個新功能可以與你現有的 [具體模組名稱] 整合...

## 避免重複的解決方案
我注意到你已經有 [現有功能]，我們可以擴展而不是重建...
```

#### 檔案引用機制
AI 應該經常引用和確認：
- "基於你之前提到的 config.js 檔案..."
- "結合你現有的 API 結構..."
- "考慮到你的專案使用 TypeScript..."

## 防止重複造輪子的執行原則

### 強制詢問流程
1. **功能確認階段**
   ```markdown
   在開始前，請確認：
   - 這個功能現在是否存在？
   - 如果存在，是要改進還是新增？
   - 請分享相關的現有代碼
   ```

2. **技術選型確認**
   ```markdown
   為了保持一致性：
   - 專案目前使用什麼技術棧？
   - 有哪些已建立的設計模式？
   - 需要遵循什麼編程規範？
   ```

3. **整合計畫確認**
   ```markdown
   整合規劃：
   - 這個功能需要與哪些現有模組連接？
   - 是否會影響現有的數據結構？
   - 需要更新哪些配置檔案？
   ```

### 代碼重用優先原則
AI 必須優先考慮：
1. **擴展現有功能** 而非重新開發
2. **重用現有組件** 和工具函數
3. **保持架構一致性** 和風格統一
4. **避免重複依賴** 和配置

## 專案狀態追蹤建議

### 建議用戶建立的參考檔案
```markdown
## 推薦建立專案索引檔案
建議你建立以下檔案來幫助對話連續性：

1. **PROJECT_OVERVIEW.md**
   - 專案目標和當前狀態
   - 主要功能清單
   - 技術棧說明

2. **FILE_STRUCTURE.md**  
   - 關鍵檔案列表
   - 各模組功能說明
   - 配置檔案位置

3. **DEVELOPMENT_LOG.md**
   - 最近完成的功能
   - 正在開發的功能
   - 已知問題和待辦事項
```

### 每次對話的開始提醒
```markdown
## 對話開始標準提醒
為了提供最好的幫助和避免重複開發：

1. 請簡述專案現狀和這次需要協助的具體目標
2. 分享相關的現有檔案或代碼片段
3. 說明是否有特定的技術要求或限制
4. 確認是新功能開發還是現有功能改進

這樣我就能基於你的現有工作提供最精準的解決方案！
```

## AI 執行指導

### 對話開始行為
1. **主動詢問專案背景**，而非直接提供通用解決方案
2. **要求提供現有代碼**，以了解當前實現狀況
3. **確認技術一致性**，確保新代碼符合專案風格
4. **避免假設**，基於實際專案狀況提供建議

### 持續對話中的行為
1. **經常引用已確認的專案信息**
2. **提醒可能的重複開發風險**
3. **優先建議擴展現有功能**
4. **保持技術選型的一致性**

### 交付前的確認
1. **確認與現有代碼的兼容性**
2. **說明如何整合到現有專案**
3. **提醒可能需要更新的相關檔案**
4. **確保不會破壞現有功能**

### 標準開場白模板
當用戶開始新對話時，AI 應該使用類似這樣的開場：

```markdown
## 專案上下文確認
為了提供最精準的協助，請告訴我：

1. **專案背景**：目前的專案是什麼？主要目標？
2. **技術棧**：使用哪些技術框架和工具？
3. **現有功能**：已經完成了哪些核心功能？
4. **檔案結構**：能否分享主要的檔案結構或關鍵代碼？
5. **具體需求**：這次希望我協助什麼？是新功能還是改進現有功能？

這樣我就能避免重複開發，基於你現有的工作提供最合適的解決方案！
```

## 重複檢測機制

### 功能重複警告
當 AI 檢測到可能的重複開發時，必須主動提醒：

```markdown
⚠️ **重複開發檢測**
我注意到你可能已經有類似的功能實現。在繼續前：

1. 請確認是否要改進現有功能而非重新開發
2. 分享現有的相關代碼讓我了解當前實現
3. 說明新需求與現有功能的差異

這樣可以節省開發時間並保持代碼一致性。
```

### 技術棧一致性檢查
```markdown
🔍 **技術一致性確認**
為確保新功能與現有專案整合順暢：

1. 新功能是否需要遵循現有的架構模式？
2. 是否有特定的編程規範或風格指南？
3. 需要與哪些現有模組或 API 整合？
4. 是否會影響現有的資料結構或配置？
```

## 品質保證
通過主動的上下文管理和重複檢查機制，確保每次開發都是基於專案現狀的最佳解決方案，避免浪費時間在重複開發上，提供真正有價值的增量改進。

## 執行優先級
此規範的執行優先級為 **最高**，必須在所有其他開發規範之前執行，確保任何技術解決方案都是基於完整的專案上下文。