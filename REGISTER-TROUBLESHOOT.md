# ğŸ”§ EduCreate è¨»å†Šå•é¡Œæ•…éšœæ’é™¤æŒ‡å—

## ğŸš¨ ç·Šæ€¥ä¿®å¾©æ­¥é©Ÿ

### 1. å¿«é€Ÿè¨ºæ–·
```bash
# é‹è¡Œè¨ºæ–·å·¥å…·
node quick-diagnosis.js
```

### 2. è‡ªå‹•ä¿®å¾©
```bash
# é‹è¡Œè‡ªå‹•ä¿®å¾©è…³æœ¬
fix-register-now.bat
```

### 3. æ¸¬è©¦è¨»å†ŠåŠŸèƒ½
```bash
# å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
npm run dev

# åœ¨å¦ä¸€å€‹çµ‚ç«¯æ¸¬è©¦API
node test-register.js
```

## ğŸ” å¸¸è¦‹å•é¡Œè¨ºæ–·

### å•é¡Œ 1: æ•¸æ“šåº«é€£æ¥å¤±æ•—
**ç—‡ç‹€**: è¨»å†Šæ™‚å‡ºç¾ "Database connection failed" éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ PostgreSQL æœå‹™
sc query postgresql*

# å¦‚æœæœå‹™æœªé‹è¡Œï¼Œå•Ÿå‹•æœå‹™
net start postgresql-x64-14

# é‡æ–°ç”Ÿæˆ Prisma å®¢æˆ¶ç«¯
npx prisma generate
npx prisma db push
```

### å•é¡Œ 2: Prisma å®¢æˆ¶ç«¯æœªç”Ÿæˆ
**ç—‡ç‹€**: "Cannot find module '@prisma/client'" éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# ç”Ÿæˆ Prisma å®¢æˆ¶ç«¯
npx prisma generate

# å¦‚æœä»æœ‰å•é¡Œï¼Œé‡æ–°å®‰è£
npm install @prisma/client
npx prisma generate
```

### å•é¡Œ 3: ç’°å¢ƒè®Šé‡é…ç½®éŒ¯èª¤
**ç—‡ç‹€**: "Environment variable not found" éŒ¯èª¤

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ `.env.local` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. ç¢ºä¿åŒ…å«ä»¥ä¸‹è®Šé‡:
```env
DATABASE_URL="postgresql://user:pass@localhost:5432/educreate"
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key"
```

### å•é¡Œ 4: ç«¯å£è¡çª
**ç—‡ç‹€**: æœå‹™å™¨ç„¡æ³•å•Ÿå‹•æˆ–è¨»å†Šè«‹æ±‚å¤±æ•—

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
# æª¢æŸ¥ç«¯å£ä½¿ç”¨æƒ…æ³
netstat -ano | findstr :3000

# å¦‚æœç«¯å£è¢«ä½”ç”¨ï¼Œçµ‚æ­¢é€²ç¨‹æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£
# ä¿®æ”¹ package.json ä¸­çš„ dev è…³æœ¬:
"dev": "next dev -p 3001"
```

## ğŸ› ï¸ æ‰‹å‹•ä¿®å¾©æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æ¸…ç†å’Œé‡ç½®
```bash
# åˆªé™¤ç·©å­˜
rmdir /s /q .next
rmdir /s /q node_modules\.cache

# é‡æ–°å®‰è£ä¾è³´
npm install
```

### æ­¥é©Ÿ 2: é‡æ–°é…ç½®æ•¸æ“šåº«
```bash
# é‡ç½®æ•¸æ“šåº«
npx prisma db push --force-reset

# ç”Ÿæˆå®¢æˆ¶ç«¯
npx prisma generate

# é‹è¡Œç¨®å­æ•¸æ“šï¼ˆå¦‚æœæœ‰ï¼‰
npm run prisma:seed
```

### æ­¥é©Ÿ 3: é©—è­‰é…ç½®
```bash
# æª¢æŸ¥ Prisma é€£æ¥
npx prisma db pull

# æª¢æŸ¥ Next.js é…ç½®
npm run build
```

## ğŸ§ª æ¸¬è©¦å’Œé©—è­‰

### 1. API æ¸¬è©¦
```bash
# æ¸¬è©¦è¨»å†Š API
node test-register.js
```

### 2. ç€è¦½å™¨æ¸¬è©¦
1. æ‰“é–‹ http://localhost:3000/register
2. å¡«å¯«è¨»å†Šè¡¨å–®
3. æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·æŸ¥çœ‹æ§åˆ¶å°
4. æª¢æŸ¥ç¶²çµ¡è«‹æ±‚å’ŒéŸ¿æ‡‰

### 3. æ•¸æ“šåº«é©—è­‰
```bash
# æ‰“é–‹ Prisma Studio
npx prisma studio

# æª¢æŸ¥ç”¨æˆ¶è¡¨æ˜¯å¦å‰µå»ºæˆåŠŸ
```

## ğŸ“‹ æª¢æŸ¥æ¸…å–®

- [ ] PostgreSQL æœå‹™æ­£åœ¨é‹è¡Œ
- [ ] `.env.local` æ–‡ä»¶é…ç½®æ­£ç¢º
- [ ] Prisma å®¢æˆ¶ç«¯å·²ç”Ÿæˆ
- [ ] æ•¸æ“šåº«æ¶æ§‹å·²æ¨é€
- [ ] ä¾è³´å·²æ­£ç¢ºå®‰è£
- [ ] é–‹ç™¼æœå‹™å™¨æ­£åœ¨é‹è¡Œ
- [ ] ç€è¦½å™¨æ§åˆ¶å°ç„¡éŒ¯èª¤
- [ ] ç¶²çµ¡è«‹æ±‚æˆåŠŸ

## ğŸ†˜ å¦‚æœä»æœ‰å•é¡Œ

### æ”¶é›†éŒ¯èª¤ä¿¡æ¯
1. **ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤**:
   - æŒ‰ F12 æ‰“é–‹é–‹ç™¼è€…å·¥å…·
   - æŸ¥çœ‹ Console å’Œ Network æ¨™ç±¤
   - æˆªåœ–æˆ–è¤‡è£½éŒ¯èª¤ä¿¡æ¯

2. **æœå‹™å™¨çµ‚ç«¯éŒ¯èª¤**:
   - æŸ¥çœ‹é‹è¡Œ `npm run dev` çš„çµ‚ç«¯
   - è¤‡è£½å®Œæ•´çš„éŒ¯èª¤å †æ£§

3. **æ•¸æ“šåº«é€£æ¥æ¸¬è©¦**:
   ```bash
   # æ¸¬è©¦æ•¸æ“šåº«é€£æ¥
   npx prisma db pull
   ```

### é‡æ–°é–‹å§‹
å¦‚æœæ‰€æœ‰æ–¹æ³•éƒ½å¤±æ•—ï¼Œå¯ä»¥è€ƒæ…®é‡æ–°è¨­ç½®:

```bash
# å‚™ä»½é‡è¦æ–‡ä»¶
copy .env.local .env.backup

# å®Œå…¨é‡ç½®
rmdir /s /q node_modules
rmdir /s /q .next
rmdir /s /q prisma\migrations

# é‡æ–°å®‰è£
npm install
npx prisma generate
npx prisma db push

# å•Ÿå‹•æœå‹™å™¨
npm run dev
```

## ğŸ“ ç²å–å¹«åŠ©

å¦‚æœå•é¡Œä»ç„¶å­˜åœ¨ï¼Œè«‹æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

1. éŒ¯èª¤çš„å®Œæ•´æˆªåœ–
2. ç€è¦½å™¨æ§åˆ¶å°éŒ¯èª¤
3. æœå‹™å™¨çµ‚ç«¯è¼¸å‡º
4. é‹è¡Œ `node quick-diagnosis.js` çš„çµæœ
5. ç³»çµ±ç’°å¢ƒä¿¡æ¯ï¼ˆWindows ç‰ˆæœ¬ã€Node.js ç‰ˆæœ¬ç­‰ï¼‰

---

**æœ€å¾Œæ›´æ–°**: 2024å¹´12æœˆ
**ç‰ˆæœ¬**: 1.0
**é©ç”¨æ–¼**: EduCreate v1.0+