{"version":3,"mappings":";4vBASMA,EAAgBC,UACpB,MAAQC,QAASC,y9BAAcC,EAAAH,UAAA,MAAAC,QAAAC,SAAME,OAAO,+BAAoB,OAAAH,QAAAC,EAAA,GAAAG,0BAChE,OAAOH,CAAA,EAMTF,eAAeM,IACbC,QAAQC,IAAI,4CAEZ,IAEE,MAAMC,EAAiBC,SAASC,eAAe,WAC3CF,IACFA,EAAeG,MAAMC,QAAU,QAIjC,MAAMX,QAAkBH,IAGlBe,EAA4B,CAChCC,UAAW,aACXC,aAAa,EACbC,sBAAsB,EACtBC,WAAY,SACZC,SAAU,YAINC,EAA6C,CACjDC,KAAMC,EAAOC,KACbC,MAAO,IACPC,OAAQ,IACRC,OAAQ,iBACRC,gBAAiB,UAGjBC,QAAS,CACP3B,QAAS,SACT4B,OAAQ,CACNC,QAAS,CAAEC,EAAG,EAAGC,EAAG,GACpBC,OAAO,IAKXC,MAAOhC,EAGPiC,MAAO,CACLC,KAAMd,EAAOe,MAAMC,IACnBC,WAAYjB,EAAOe,MAAMG,YACzBhB,MAAO,IACPC,OAAQ,KAIVgB,MAAO,CACLC,iBAAiB,GAInBC,OAAQ,CACNC,WAAW,EACXC,UAAU,IAKRC,EAAO,IAAIxB,EAAOyB,KAAK3B,GA4B7B,OAzBA0B,EAAKE,SAASC,IAAI,aAAcnC,GAGhCgC,EAAKI,OAAOC,GAAG,SAAUC,IACvB7C,QAAQ6C,MAAM,iBAAkBA,EAAK,IAIvCN,EAAKI,OAAOG,KAAK,SAAS,KACxB9C,QAAQC,IAAI,mCAGR8C,OAAO5B,SAAW4B,QACpBA,OAAO5B,OAAO6B,YAAY,CACxBlC,KAAM,aACNmC,UAAWC,KAAKC,OACf,IACL,IAIoB,oBAAXJ,SACRA,OAAeK,WAAab,GAGxBA,CAET,OAASM,GACP7C,QAAQ6C,MAAM,aAAcA,GAG5B,MAAMQ,EAAgBlD,SAASC,eAAe,kBAkC9C,MAjCIiD,IACFA,EAAcC,UAAY,mdAasBT,aAAiBU,MAAQV,EAAMW,QAAU,iaAmBrFX,CACR,CACF,CAG4B,YAAxB1C,SAASsD,WACXtD,SAASuD,iBAAiB,mBAAoB3D,GAE9CA","names":["loadGameScene","async","default","GameScene","__vitePreload","import","__VITE_PRELOAD__","initGame","console","log","loadingElement","document","getElementById","style","display","defaultConfig","geptLevel","enableSound","enableHapticFeedback","difficulty","gameMode","phaserConfig","type","Phaser","AUTO","width","height","parent","backgroundColor","physics","arcade","gravity","x","y","debug","scene","scale","mode","Scale","FIT","autoCenter","CENTER_BOTH","audio","disableWebAudio","render","antialias","pixelArt","game","Game","registry","set","events","on","error","once","window","postMessage","timestamp","Date","now","phaserGame","gameContainer","innerHTML","Error","message","readyState","addEventListener"],"ignoreList":[],"sources":["../src/main.ts"],"sourcesContent":["/**\n * Airplane Collision Game - Vite + Phaser 3 å…¥å£é»\n * åŸºæ–¼è¨˜æ†¶ç§‘å­¸çš„è‹±èªè©å½™å­¸ç¿’éŠæˆ²\n */\n\nimport Phaser from 'phaser';\nimport { GameConfig } from './types/game';\n\n// å‹•æ…‹å°å…¥å ´æ™¯ï¼ˆé¿å…å¾ªç’°ä¾è³´ï¼‰\nconst loadGameScene = async () => {\n  const { default: GameScene } = await import('./scenes/GameScene');\n  return GameScene;\n};\n\n/**\n * åˆå§‹åŒ– Phaser éŠæˆ²\n */\nasync function initGame() {\n  console.log('ğŸ® åˆå§‹åŒ– Airplane Collision Game - Vite ç‰ˆæœ¬');\n  \n  try {\n    // éš±è—è¼‰å…¥ç•«é¢\n    const loadingElement = document.getElementById('loading');\n    if (loadingElement) {\n      loadingElement.style.display = 'none';\n    }\n    \n    // è¼‰å…¥éŠæˆ²å ´æ™¯\n    const GameScene = await loadGameScene();\n    \n    // é»˜èªéŠæˆ²é…ç½®\n    const defaultConfig: GameConfig = {\n      geptLevel: 'elementary',\n      enableSound: true,\n      enableHapticFeedback: true,\n      difficulty: 'medium',\n      gameMode: 'practice'\n    };\n    \n    // Phaser éŠæˆ²é…ç½®\n    const phaserConfig: Phaser.Types.Core.GameConfig = {\n      type: Phaser.AUTO,\n      width: 800,\n      height: 600,\n      parent: 'game-container',\n      backgroundColor: '#000033',\n      \n      // ç‰©ç†å¼•æ“é…ç½®\n      physics: {\n        default: 'arcade',\n        arcade: {\n          gravity: { x: 0, y: 0 },\n          debug: false\n        }\n      },\n      \n      // å ´æ™¯é…ç½®\n      scene: GameScene,\n      \n      // ç¸®æ”¾é…ç½®\n      scale: {\n        mode: Phaser.Scale.FIT,\n        autoCenter: Phaser.Scale.CENTER_BOTH,\n        width: 800,\n        height: 600\n      },\n      \n      // éŸ³é »é…ç½®\n      audio: {\n        disableWebAudio: false\n      },\n      \n      // æ¸²æŸ“é…ç½®\n      render: {\n        antialias: true,\n        pixelArt: false\n      }\n    };\n    \n    // å‰µå»º Phaser éŠæˆ²å¯¦ä¾‹\n    const game = new Phaser.Game(phaserConfig);\n    \n    // å°‡é…ç½®å‚³éçµ¦å ´æ™¯\n    game.registry.set('gameConfig', defaultConfig);\n    \n    // è¨­ç½®å…¨å±€éŒ¯èª¤è™•ç†\n    game.events.on('error', (error: Error) => {\n      console.error('âŒ Phaser éŠæˆ²éŒ¯èª¤:', error);\n    });\n    \n    // éŠæˆ²å°±ç·’å›èª¿\n    game.events.once('ready', () => {\n      console.log('âœ… Airplane Collision Game åˆå§‹åŒ–å®Œæˆ');\n      \n      // å‘çˆ¶é é¢ç™¼é€å°±ç·’æ¶ˆæ¯\n      if (window.parent !== window) {\n        window.parent.postMessage({\n          type: 'GAME_READY',\n          timestamp: Date.now()\n        }, '*');\n      }\n    });\n    \n    // å°‡éŠæˆ²å¯¦ä¾‹æš´éœ²åˆ°å…¨å±€ï¼ˆç”¨æ–¼èª¿è©¦ï¼‰\n    if (typeof window !== 'undefined') {\n      (window as any).phaserGame = game;\n    }\n    \n    return game;\n    \n  } catch (error) {\n    console.error('âŒ éŠæˆ²åˆå§‹åŒ–å¤±æ•—:', error);\n    \n    // é¡¯ç¤ºéŒ¯èª¤ä¿¡æ¯\n    const gameContainer = document.getElementById('game-container');\n    if (gameContainer) {\n      gameContainer.innerHTML = `\n        <div style=\"\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          height: 100%;\n          color: white;\n          text-align: center;\n          padding: 20px;\n        \">\n          <h2 style=\"color: #ff6b6b; margin-bottom: 16px;\">âš ï¸ éŠæˆ²è¼‰å…¥å¤±æ•—</h2>\n          <p style=\"margin-bottom: 16px;\">ç„¡æ³•åˆå§‹åŒ– Phaser éŠæˆ²å¼•æ“</p>\n          <p style=\"font-size: 14px; opacity: 0.7;\">${error instanceof Error ? error.message : 'æœªçŸ¥éŒ¯èª¤'}</p>\n          <button \n            onclick=\"location.reload()\" \n            style=\"\n              margin-top: 20px;\n              padding: 10px 20px;\n              background: #4CAF50;\n              color: white;\n              border: none;\n              border-radius: 4px;\n              cursor: pointer;\n            \"\n          >\n            é‡æ–°è¼‰å…¥\n          </button>\n        </div>\n      `;\n    }\n    \n    throw error;\n  }\n}\n\n// ç­‰å¾… DOM è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–éŠæˆ²\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initGame);\n} else {\n  initGame();\n}\n\n// å°å‡ºåˆå§‹åŒ–å‡½æ•¸ï¼ˆç”¨æ–¼æ¸¬è©¦ï¼‰\nexport { initGame };\n"],"file":"main-af6Jg_O_.js"}