var e,o,n,t=Object.defineProperty;import{P as i}from"./chunks/phaser-CIjcVCQt.js";import{G as r}from"./chunks/scenes-CmW7m_tD.js";import"./chunks/managers-p0q_KFKn.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)}).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?o.credentials="include":"anonymous"===e.crossOrigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}();class a{static getOptimizedConfig(e){const o={...this.DEFAULT_CONFIG,...e};return{type:Phaser.AUTO,width:o.baseWidth,height:o.baseHeight,parent:"game-container",backgroundColor:"transparent",scale:{mode:o.scaleMode,autoCenter:o.autoCenter,width:o.baseWidth,height:o.baseHeight,min:{width:o.minWidth,height:o.minHeight},max:{width:o.maxWidth,height:o.maxHeight},zoom:1,resizeInterval:500},physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},render:{antialias:!0,pixelArt:!1,roundPixels:!1,transparent:!1,clearBeforeRender:!0,preserveDrawingBuffer:!1,premultipliedAlpha:!0,failIfMajorPerformanceCaveat:!1,powerPreference:"default"},audio:{disableWebAudio:!1,context:!1,noAudio:!1},input:{keyboard:!0,mouse:!0,touch:!0,gamepad:!1},dom:{createContainer:!1},plugins:{global:[],scene:[]}}}static getFullscreenConfig(){return this.getOptimizedConfig({scaleMode:Phaser.Scale.RESIZE,autoCenter:Phaser.Scale.CENTER_BOTH,enableResponsive:!0,smoothScaling:!0})}static getMobileConfig(){return this.getOptimizedConfig({scaleMode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,minWidth:320,minHeight:240,maxWidth:768,maxHeight:1024})}static getAdaptiveConfig(){switch(this.getViewportInfo().deviceType){case"mobile":return this.getMobileConfig();case"tablet":return this.getOptimizedConfig({scaleMode:Phaser.Scale.FIT,maxWidth:1024,maxHeight:768});default:return this.getOptimizedConfig()}}static getViewportInfo(){const e=window.innerWidth,o=window.innerHeight;let n="desktop";return e<768?n="mobile":e<1024&&(n="tablet"),{width:e,height:o,deviceType:n,aspectRatio:e/o,isLandscape:e>o,isPortrait:o>e}}static compareConfigs(){console.log("ğŸ“Š Phaser 3 ç¸®æ”¾æ¨¡å¼æ¯”è¼ƒ:"),console.log(""),console.log("ğŸ”§ FIT æ¨¡å¼ (ç•¶å‰):"),console.log("  âœ… ä¿æŒå¯¬é«˜æ¯”ï¼Œç„¡è®Šå½¢"),console.log("  âœ… è‡ªå‹•å±…ä¸­ï¼Œè¦–è¦ºç©©å®š"),console.log("  âŒ å¯èƒ½æœ‰é»‘é‚Š"),console.log("  âŒ ç„¡æ³•å……åˆ†åˆ©ç”¨å¤§å±å¹•"),console.log(""),console.log("ğŸ”§ RESIZE æ¨¡å¼:"),console.log("  âœ… å……åˆ†åˆ©ç”¨å±å¹•ç©ºé–“"),console.log("  âœ… ç„¡é»‘é‚Šï¼Œå®Œå…¨å¡«æ»¿"),console.log("  âŒ å¯èƒ½è®Šå½¢ï¼Œéœ€è¦é¡å¤–è™•ç†"),console.log("  âŒ è¤‡é›œåº¦è¼ƒé«˜"),console.log(""),console.log("ğŸ’¡ å»ºè­°: ä¿æŒ FIT æ¨¡å¼ + éŸ¿æ‡‰å¼ç®¡ç†å™¨")}static monitorPerformance(e){if(!e)return;const o={fps:0,memory:0,drawCalls:0};return e.loop.on("step",()=>{o.fps=Math.round(e.loop.actualFps)}),performance.memory&&(o.memory=Math.round(performance.memory.usedJSHeapSize/1024/1024)),console.log("ğŸ“ˆ æ€§èƒ½ç›£æ§å·²å•Ÿå‹•:",o),o}}e=a,o="DEFAULT_CONFIG",n={baseWidth:1274,baseHeight:739,scaleMode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,minWidth:320,minHeight:240,maxWidth:1920,maxHeight:1080,enableResponsive:!0,smoothScaling:!0,maintainAspectRatio:!0},((e,o,n)=>{o in e?t(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n})(e,"symbol"!=typeof o?o+"":o,n);async function s(){console.log("ğŸ® åˆå§‹åŒ– Airplane Collision Game - Vite ç‰ˆæœ¬");try{console.log("ğŸ”§ é–‹å§‹åˆå§‹åŒ–æµç¨‹...");const e=document.getElementById("loading");e&&(e.style.display="none",console.log("âœ… è¼‰å…¥ç•«é¢å·²éš±è—")),console.log("ğŸ“¦ è¼‰å…¥éŠæˆ²å ´æ™¯...");const o=await(async()=>(console.log("âœ… GameScene ç›´æ¥å°å…¥æˆåŠŸ"),r))();console.log("âœ… éŠæˆ²å ´æ™¯è¼‰å…¥å®Œæˆ:",o.name),console.log("âš™ï¸ è¨­ç½®éŠæˆ²é…ç½®...");const n={geptLevel:"elementary",enableSound:!0,enableHapticFeedback:!0,difficulty:"medium",gameMode:"practice"};console.log("âœ… éŠæˆ²é…ç½®è¨­ç½®å®Œæˆ"),console.log("ğŸ¯ ç²å–éŸ¿æ‡‰å¼ Phaser é…ç½®...");const t=a.getAdaptiveConfig();console.log("âœ… éŸ¿æ‡‰å¼é…ç½®ç²å–å®Œæˆ"),console.log("ğŸ¬ è¨­ç½®å ´æ™¯åˆ°é…ç½®..."),t.scene=o,console.log("âœ… å ´æ™¯è¨­ç½®å®Œæˆ"),console.log("ğŸ“Š é¡¯ç¤ºé…ç½®æ¯”è¼ƒ..."),a.compareConfigs(),console.log("âœ… é…ç½®æ¯”è¼ƒå®Œæˆ"),console.log("ğŸ® å‰µå»º Phaser éŠæˆ²å¯¦ä¾‹...");const s=new i.Game(t);return console.log("âœ… Phaser éŠæˆ²å¯¦ä¾‹å‰µå»ºå®Œæˆ"),console.log("ğŸ“‹ å‚³éé…ç½®çµ¦å ´æ™¯..."),s.registry.set("gameConfig",n),console.log("âœ… é…ç½®å‚³éå®Œæˆ"),s.events.on("error",e=>{console.error("âŒ Phaser éŠæˆ²éŒ¯èª¤:",e)}),s.events.once("ready",()=>{console.log("âœ… Airplane Collision Game åˆå§‹åŒ–å®Œæˆ"),window.parent!==window&&window.parent.postMessage({type:"GAME_READY",timestamp:Date.now()},"*")}),"undefined"!=typeof window&&(window.phaserGame=s),s}catch(e){console.error("âŒ éŠæˆ²åˆå§‹åŒ–å¤±æ•—:",e);const o=document.getElementById("game-container");throw o&&(o.innerHTML=`\n        <div style="\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          height: 100%;\n          color: white;\n          text-align: center;\n          padding: 20px;\n        ">\n          <h2 style="color: #ff6b6b; margin-bottom: 16px;">âš ï¸ éŠæˆ²è¼‰å…¥å¤±æ•—</h2>\n          <p style="margin-bottom: 16px;">ç„¡æ³•åˆå§‹åŒ– Phaser éŠæˆ²å¼•æ“</p>\n          <p style="font-size: 14px; opacity: 0.7;">${e instanceof Error?e.message:"æœªçŸ¥éŒ¯èª¤"}</p>\n          <button \n            onclick="location.reload()" \n            style="\n              margin-top: 20px;\n              padding: 10px 20px;\n              background: #4CAF50;\n              color: white;\n              border: none;\n              border-radius: 4px;\n              cursor: pointer;\n            "\n          >\n            é‡æ–°è¼‰å…¥\n          </button>\n        </div>\n      `),e}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s();
//# sourceMappingURL=main-Dic2uEC7.js.map
