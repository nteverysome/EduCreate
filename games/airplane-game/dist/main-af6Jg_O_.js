const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/scenes-IflaBaD5.js","chunks/phaser-CjIEy6U-.js","chunks/managers-BDCOAzdU.js"])))=>i.map(i=>d[i]);
import{P as e}from"./chunks/phaser-CjIEy6U-.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const n={},t=async()=>{const{default:e}=await function(e,t){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),o=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map((e=>{if((e=function(e){return"/games/airplane-game/"+e}(e))in n)return;n[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,o&&i.setAttribute("nonce",o),document.head.appendChild(i),t?new Promise(((n,t)=>{i.addEventListener("load",n),i.addEventListener("error",(()=>t(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=e,window.dispatchEvent(n),!n.defaultPrevented)throw e}return r.then((n=>{for(const e of n||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))}((async()=>{const{default:e}=await import("./chunks/scenes-IflaBaD5.js");return{default:e}}),__vite__mapDeps([0,1,2]));return e};async function r(){console.log("🎮 初始化 Airplane Collision Game - Vite 版本");try{const n=document.getElementById("loading");n&&(n.style.display="none");const r=await t(),o={geptLevel:"elementary",enableSound:!0,enableHapticFeedback:!0,difficulty:"medium",gameMode:"practice"},i={type:e.AUTO,width:800,height:600,parent:"game-container",backgroundColor:"#000033",physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:r,scale:{mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_BOTH,width:800,height:600},audio:{disableWebAudio:!1},render:{antialias:!0,pixelArt:!1}},a=new e.Game(i);return a.registry.set("gameConfig",o),a.events.on("error",(e=>{console.error("❌ Phaser 遊戲錯誤:",e)})),a.events.once("ready",(()=>{console.log("✅ Airplane Collision Game 初始化完成"),window.parent!==window&&window.parent.postMessage({type:"GAME_READY",timestamp:Date.now()},"*")})),"undefined"!=typeof window&&(window.phaserGame=a),a}catch(n){console.error("❌ 遊戲初始化失敗:",n);const e=document.getElementById("game-container");throw e&&(e.innerHTML=`\n        <div style="\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          align-items: center;\n          height: 100%;\n          color: white;\n          text-align: center;\n          padding: 20px;\n        ">\n          <h2 style="color: #ff6b6b; margin-bottom: 16px;">⚠️ 遊戲載入失敗</h2>\n          <p style="margin-bottom: 16px;">無法初始化 Phaser 遊戲引擎</p>\n          <p style="font-size: 14px; opacity: 0.7;">${n instanceof Error?n.message:"未知錯誤"}</p>\n          <button \n            onclick="location.reload()" \n            style="\n              margin-top: 20px;\n              padding: 10px 20px;\n              background: #4CAF50;\n              color: white;\n              border: none;\n              border-radius: 4px;\n              cursor: pointer;\n            "\n          >\n            重新載入\n          </button>\n        </div>\n      `),n}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",r):r();
//# sourceMappingURL=main-af6Jg_O_.js.map
