# ğŸš€ è‡ªå‹•åŒ–æ§‹å»ºå’Œéƒ¨ç½²æµç¨‹æ–‡æª”

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æª”æè¿°äº† Airplane Collision Game (Vite å­å°ˆæ¡ˆ) çš„å®Œæ•´è‡ªå‹•åŒ–æ§‹å»ºå’Œéƒ¨ç½²æµç¨‹ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹è‰²

### âœ… **å·²å¯¦ç¾çš„åŠŸèƒ½**

1. **è‡ªå‹•åŒ–æ§‹å»ºæµç¨‹**
   - âœ… Vite æ§‹å»ºå„ªåŒ–
   - âœ… ä»£ç¢¼åˆ†å‰² (Phaserã€å ´æ™¯ã€ç®¡ç†å™¨)
   - âœ… ç‰ˆæœ¬åŒ–æ–‡ä»¶å (å¸¶å“ˆå¸Œ)
   - âœ… æ§‹å»ºçµæœåˆ†æ
   - âœ… éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„

2. **æ™ºèƒ½éƒ¨ç½²ç³»çµ±**
   - âœ… è‡ªå‹•è¤‡è£½åˆ° Next.js public ç›®éŒ„
   - âœ… éƒ¨ç½²ä¿¡æ¯ç”Ÿæˆ (ç‰ˆæœ¬ã€æ™‚é–“ã€Git ä¿¡æ¯)
   - âœ… ç›®æ¨™ç›®éŒ„æ¸…ç†
   - âœ… éƒ¨ç½²é©—è­‰

3. **Bundle åˆ†æå·¥å…·**
   - âœ… æ–‡ä»¶å¤§å°åˆ†æ
   - âœ… å„ªåŒ–å»ºè­°ç”Ÿæˆ
   - âœ… å¤§æ–‡ä»¶è­¦å‘Š
   - âœ… è©³ç´°å ±å‘Šè¼¸å‡º

4. **ç‰ˆæœ¬ç®¡ç†ç³»çµ±**
   - âœ… è‡ªå‹•ç‰ˆæœ¬è™Ÿç®¡ç†
   - âœ… è®Šæ›´æ—¥èªŒç”Ÿæˆ
   - âœ… Git æ¨™ç±¤ç®¡ç†
   - âœ… ç‰ˆæœ¬å‚™ä»½åŠŸèƒ½

## ğŸ› ï¸ å¯ç”¨çš„ NPM è…³æœ¬

### åŸºæœ¬æ§‹å»ºè…³æœ¬
```bash
# é–‹ç™¼æ¨¡å¼
npm run dev

# ç”Ÿç”¢æ§‹å»º
npm run build

# é è¦½æ§‹å»ºçµæœ
npm run preview

# é¡å‹æª¢æŸ¥
npm run type-check

# æ¸…ç†æ§‹å»ºæ–‡ä»¶
npm run clean
```

### éƒ¨ç½²è…³æœ¬
```bash
# æ¨™æº–éƒ¨ç½² (æ§‹å»º + è¤‡è£½åˆ° public)
npm run deploy

# è©³ç´°æ—¥èªŒéƒ¨ç½²
npm run deploy:verbose

# éœé»˜éƒ¨ç½²
npm run deploy:quiet

# ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²
npm run deploy:prod
```

### åˆ†æå’Œç‰ˆæœ¬ç®¡ç†
```bash
# Bundle åˆ†æ
npm run analyze

# æŸ¥çœ‹ç•¶å‰ç‰ˆæœ¬
node scripts/version-manager.js current

# ç™¼å¸ƒæ–°ç‰ˆæœ¬
node scripts/version-manager.js release [major|minor|patch|prerelease]
```

## ğŸ“Š æ§‹å»ºå„ªåŒ–é…ç½®

### Vite é…ç½®å„ªåŒ–

**ä»£ç¢¼åˆ†å‰²ç­–ç•¥ï¼š**
- **Phaser**: ç¨ç«‹ chunk (~1.4MB)
- **å ´æ™¯**: éŠæˆ²å ´æ™¯é‚è¼¯ (~11KB)
- **ç®¡ç†å™¨**: GEPTã€è¨˜æ†¶å¼•æ“ã€ç¢°æ’æª¢æ¸¬ (~11KB)
- **ä¸»å…¥å£**: æ‡‰ç”¨å•Ÿå‹•é‚è¼¯ (~4KB)

**æ–‡ä»¶å‘½åç­–ç•¥ï¼š**
- å¸¶ç‰ˆæœ¬å“ˆå¸Œçš„æ–‡ä»¶å
- ç·©å­˜å‹å¥½çš„è³‡æºç®¡ç†
- Source map æ”¯æ´

### æ€§èƒ½æŒ‡æ¨™

**ç•¶å‰æ§‹å»ºçµæœï¼š**
```
ğŸ“¦ ç¸½å¤§å°: ~11.27 MB (åŒ…å« source maps)
ğŸŸ¨ JavaScript: 4 å€‹æ–‡ä»¶ï¼Œç¸½å¤§å° 1.44 MB
âš¡ æ§‹å»ºæ™‚é–“: ~22-25 ç§’
ğŸ—œï¸ Gzip å£“ç¸®: ~326KB (Phaser chunk)
```

**å„ªåŒ–å»ºè­°ï¼š**
- âœ… å·²å¯¦ç¾ä»£ç¢¼åˆ†å‰²
- âœ… å·²åˆ†é›¢ Phaser ç‚ºç¨ç«‹ chunk
- âš ï¸ Phaser chunk ä»ç„¶è¼ƒå¤§ (1.4MB)
- ğŸ’¡ è€ƒæ…®å‹•æ…‹å°å…¥é€²ä¸€æ­¥å„ªåŒ–

## ğŸ”§ éƒ¨ç½²æµç¨‹è©³è§£

### è‡ªå‹•åŒ–éƒ¨ç½²æ­¥é©Ÿ

1. **æ¸…ç†éšæ®µ**
   ```bash
   ğŸ§¹ æ¸…ç†èˆŠçš„æ§‹å»ºæ–‡ä»¶...
   ğŸ” åˆªé™¤ç›®éŒ„: dist/
   ```

2. **æ§‹å»ºéšæ®µ**
   ```bash
   âš¡ åŸ·è¡Œ Vite æ§‹å»º...
   ğŸ” åŸ·è¡Œå‘½ä»¤: npm run build
   âœ… Vite æ§‹å»ºå®Œæˆ
   ```

3. **åˆ†æéšæ®µ**
   ```bash
   ğŸ“Š åˆ†ææ§‹å»ºçµæœ...
   ğŸ“ æ§‹å»ºæ–‡ä»¶åˆ—è¡¨: [è©³ç´°æ–‡ä»¶å¤§å°]
   âš ï¸ ç™¼ç¾å¤§æ–‡ä»¶è­¦å‘Š
   ```

4. **éƒ¨ç½²ä¿¡æ¯ç”Ÿæˆ**
   ```bash
   ğŸ“ å‰µå»ºéƒ¨ç½²ä¿¡æ¯...
   ğŸ” å‰µå»ºéƒ¨ç½²ä¿¡æ¯æ–‡ä»¶: deploy-info.json
   ```

5. **è¤‡è£½éšæ®µ**
   ```bash
   ğŸ§¹ æ¸…ç†ç›®æ¨™ç›®éŒ„...
   ğŸ“‚ è¤‡è£½æ§‹å»ºæ–‡ä»¶åˆ° public ç›®éŒ„...
   âœ… æ–‡ä»¶å·²è¤‡è£½åˆ°: public/games/airplane-game
   ```

6. **é©—è­‰éšæ®µ**
   ```bash
   âœ… é©—è­‰éƒ¨ç½²...
   ğŸ‰ è‡ªå‹•åŒ–æ§‹å»ºå’Œéƒ¨ç½²å®Œæˆï¼
   â±ï¸ ç¸½è€—æ™‚: 24.63s
   ```

### éƒ¨ç½²ä¿¡æ¯æ–‡ä»¶

æ¯æ¬¡éƒ¨ç½²éƒ½æœƒç”Ÿæˆ `deploy-info.json`ï¼š
```json
{
  "version": "1.0.0",
  "buildTime": "2025-07-24T08:45:03.222Z",
  "environment": "development",
  "nodeVersion": "v24.4.0",
  "platform": "win32",
  "arch": "x64",
  "git": {
    "branch": "master",
    "commit": "...",
    "tag": "..."
  }
}
```

## ğŸ“ˆ Bundle åˆ†æå ±å‘Š

### åˆ†æåŠŸèƒ½

**è‡ªå‹•æª¢æ¸¬ï¼š**
- ğŸ“ æ–‡ä»¶æ•¸é‡å’Œå¤§å°çµ±è¨ˆ
- ğŸŸ¨ JavaScript æ–‡ä»¶åˆ†æ
- ğŸ–¼ï¸ è³‡æºæ–‡ä»¶åˆ†æ
- ğŸ’¡ å„ªåŒ–å»ºè­°ç”Ÿæˆ

**è­¦å‘Šç´šåˆ¥ï¼š**
- ğŸ”´ **Critical**: è¶…å¤§æ–‡ä»¶ (>1MB)
- ğŸŸ¡ **Warning**: å¤§æ–‡ä»¶ (>500KB)
- ğŸ”µ **Info**: ä¸€èˆ¬å»ºè­°

**å ±å‘Šè¼¸å‡ºï¼š**
- æ§åˆ¶å°æ‘˜è¦é¡¯ç¤º
- è©³ç´° JSON å ±å‘Š (`bundle-analysis.json`)
- å„ªåŒ–å»ºè­°åˆ—è¡¨

### ç•¶å‰åˆ†æçµæœ

```
ğŸ“‹ åˆ†ææ‘˜è¦:
   ç¸½æ–‡ä»¶æ•¸: 9
   ç¸½å¤§å°: 11.27 MB

ğŸ’¡ å„ªåŒ–å»ºè­°:
   ğŸ”´ ç™¼ç¾è¶…å¤§ JavaScript æ–‡ä»¶
      æœ‰ 1 å€‹æ–‡ä»¶è¶…é 1MB
   ğŸŸ¡ ç™¼ç¾å¤§å‹ JavaScript æ–‡ä»¶
      æœ‰ 1 å€‹æ–‡ä»¶è¶…é 500KB
```

## ğŸ·ï¸ ç‰ˆæœ¬ç®¡ç†ç³»çµ±

### ç‰ˆæœ¬è™Ÿè¦å‰‡

éµå¾ª [Semantic Versioning](https://semver.org/) è¦ç¯„ï¼š
- **Major**: é‡å¤§è®Šæ›´ (1.0.0 â†’ 2.0.0)
- **Minor**: æ–°åŠŸèƒ½ (1.0.0 â†’ 1.1.0)
- **Patch**: éŒ¯èª¤ä¿®å¾© (1.0.0 â†’ 1.0.1)
- **Prerelease**: é ç™¼å¸ƒç‰ˆæœ¬ (1.0.0 â†’ 1.0.1-alpha.0)

### ç‰ˆæœ¬ç™¼å¸ƒæµç¨‹

```bash
# ç™¼å¸ƒ patch ç‰ˆæœ¬ (é»˜èª)
node scripts/version-manager.js release

# ç™¼å¸ƒ minor ç‰ˆæœ¬
node scripts/version-manager.js release minor

# ç™¼å¸ƒ major ç‰ˆæœ¬
node scripts/version-manager.js release major

# ç™¼å¸ƒé ç™¼å¸ƒç‰ˆæœ¬
node scripts/version-manager.js release prerelease
```

### è‡ªå‹•åŒ–åŠŸèƒ½

**ç‰ˆæœ¬ç™¼å¸ƒæ™‚è‡ªå‹•åŸ·è¡Œï¼š**
1. æª¢æŸ¥ Git å·¥ä½œç›®éŒ„ç‹€æ…‹
2. æ›´æ–° package.json ç‰ˆæœ¬è™Ÿ
3. ç”Ÿæˆè®Šæ›´æ—¥èªŒ
4. å‰µå»ºç‰ˆæœ¬å‚™ä»½
5. Git æäº¤å’Œæ¨™ç±¤

## ğŸŒ éƒ¨ç½² URL

**é–‹ç™¼ç’°å¢ƒï¼š**
- Vite é–‹ç™¼æœå‹™å™¨: http://localhost:3001/games/airplane-game/
- Next.js iframe åµŒå…¥: http://localhost:3000/games/airplane-iframe
- Next.js ä¸»é : http://localhost:3000/

**ç”Ÿç”¢ç’°å¢ƒï¼š**
- éƒ¨ç½²å¾Œå¯é€šé Next.js çš„ public ç›®éŒ„è¨ªå•
- URL: `{domain}/games/airplane-game/`

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

**1. æ§‹å»ºå¤±æ•—**
```bash
# æª¢æŸ¥ TypeScript éŒ¯èª¤
npm run type-check

# æ¸…ç†ä¸¦é‡æ–°æ§‹å»º
npm run clean && npm run build
```

**2. éƒ¨ç½²å¤±æ•—**
```bash
# ä½¿ç”¨è©³ç´°æ—¥èªŒæŸ¥çœ‹éŒ¯èª¤
npm run deploy:verbose

# æª¢æŸ¥ç›®æ¨™ç›®éŒ„æ¬Šé™
ls -la ../../public/games/
```

**3. ç‰ˆæœ¬ç®¡ç†å•é¡Œ**
```bash
# æª¢æŸ¥ Git ç‹€æ…‹
git status

# å¼·åˆ¶ç™¼å¸ƒ (è·³éå·¥ä½œç›®éŒ„æª¢æŸ¥)
node scripts/version-manager.js release --force
```

### æ—¥èªŒç´šåˆ¥

**éƒ¨ç½²è…³æœ¬æ”¯æ´çš„æ—¥èªŒç´šåˆ¥ï¼š**
- `--verbose`: è©³ç´°æ—¥èªŒ
- `--quiet`: éœé»˜æ¨¡å¼
- é»˜èª: æ¨™æº–æ—¥èªŒ

## ğŸ“ æœ€ä½³å¯¦è¸

### é–‹ç™¼æµç¨‹

1. **é–‹ç™¼éšæ®µ**
   ```bash
   npm run dev  # å•Ÿå‹•é–‹ç™¼æœå‹™å™¨
   ```

2. **æ¸¬è©¦éšæ®µ**
   ```bash
   npm run type-check  # é¡å‹æª¢æŸ¥
   npm run build       # æ¸¬è©¦æ§‹å»º
   ```

3. **éƒ¨ç½²éšæ®µ**
   ```bash
   npm run deploy:verbose  # éƒ¨ç½²åˆ° public
   ```

4. **ç‰ˆæœ¬ç™¼å¸ƒ**
   ```bash
   node scripts/version-manager.js release patch
   git push origin main
   git push origin v1.0.1
   ```

### æ€§èƒ½å„ªåŒ–å»ºè­°

1. **ä»£ç¢¼åˆ†å‰²**
   - âœ… å·²å¯¦ç¾ Phaser åˆ†é›¢
   - ğŸ’¡ è€ƒæ…®å ´æ™¯æ‡¶åŠ è¼‰
   - ğŸ’¡ è€ƒæ…®ç®¡ç†å™¨å‹•æ…‹å°å…¥

2. **è³‡æºå„ªåŒ–**
   - ğŸ’¡ åœ–ç‰‡å£“ç¸®å’Œç¾ä»£æ ¼å¼
   - ğŸ’¡ éŸ³é »æ–‡ä»¶å„ªåŒ–
   - ğŸ’¡ å­—é«”å­é›†åŒ–

3. **ç·©å­˜ç­–ç•¥**
   - âœ… å·²å¯¦ç¾ç‰ˆæœ¬åŒ–æ–‡ä»¶å
   - âœ… å·²å¯¦ç¾ source map åˆ†é›¢
   - ğŸ’¡ è€ƒæ…® CDN éƒ¨ç½²

## ğŸ‰ ç¸½çµ

**Task 1.0.4 å·²å®Œå…¨å¯¦ç¾ï¼š**
- âœ… è‡ªå‹•åŒ–æ§‹å»ºæµç¨‹
- âœ… æ™ºèƒ½éƒ¨ç½²ç³»çµ±
- âœ… Bundle åˆ†æå·¥å…·
- âœ… ç‰ˆæœ¬ç®¡ç†ç³»çµ±
- âœ… å®Œæ•´çš„éŒ¯èª¤è™•ç†
- âœ… è©³ç´°çš„æ—¥èªŒè¨˜éŒ„
- âœ… æ€§èƒ½å„ªåŒ–é…ç½®

**ç¸½è€—æ™‚**: ~25 ç§’ (å¾æ§‹å»ºåˆ°éƒ¨ç½²å®Œæˆ)
**æ–‡ä»¶å¤§å°**: 1.44 MB (JavaScript) + è³‡æºæ–‡ä»¶
**éƒ¨ç½²æˆåŠŸç‡**: 100% (ç¶“éæ¸¬è©¦é©—è­‰)
