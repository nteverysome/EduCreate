# 🎯 分離佈局設計 - 基於實際截圖分析

## 📸 截圖分析

### Screenshot_275 (每頁匹配數 4)
```
左側：1 列 × 4 行          右側：1 列 × 4 行
┌─────────────┐          ┌──────────────┐
│   air       │          │ [空白框]     │
│  (藍色)     │          │              │
├─────────────┤          ├──────────────┤
│   good      │          │ [空白框]     │
│  (紅色)     │          │              │
├─────────────┤          ├──────────────┤
│   low       │          │ [空白框]     │
│  (橙色)     │          │              │
├─────────────┤          ├──────────────┤
│   yellow    │          │ [空白框]     │
│  (綠色)     │          │              │
└─────────────┘          └──────────────┘

卡片大小：較大 (~56px 高)
```

### Screenshot_274 (每頁匹配數 5)
```
左側：1 列 × 5 行          右側：1 列 × 5 行
┌─────────────┐          ┌──────────────┐
│   tool      │          │ [空白框]     │
│  (藍色)     │          │              │
├─────────────┤          ├──────────────┤
│   no        │          │ [空白框]     │
│  (紅色)     │          │              │
├─────────────┤          ├──────────────┤
│   cat       │          │ [空白框]     │
│  (橙色)     │          │              │
├─────────────┤          ├──────────────┤
│   dog       │          │ [空白框]     │
│  (綠色)     │          │              │
├─────────────┤          ├──────────────┤
│   moon      │          │ [空白框]     │
│  (紫色)     │          │              │
└─────────────┘          └──────────────┘

卡片大小：中等 (~48px 高)
```

### Screenshot_276 (每頁匹配數 7)
```
左側：2 列 × 4 行          右側：1 列 × 7 行
┌──────┬──────┐          ┌──────────────┐
│color │food  │          │ [空白框]     │
├──────┼──────┤          ├──────────────┤
│ no   │ dog  │          │ [空白框]     │
├──────┼──────┤          ├──────────────┤
│ low  │fish  │          │ [空白框]     │
├──────┴──────┤          ├──────────────┤
│   sun       │          │ [空白框]     │
└─────────────┘          ├──────────────┤
               │ [空白框]     │
               ├──────────────┤
               │ [空白框]     │
               ├──────────────┤
               │ [空白框]     │
               └──────────────┘

卡片大小：較小 (~35px 高)
左側變成多列佈局
```

### Screenshot_277 (每頁匹配數 10)
```
左側：1 行 × 10 列        右側：1 列 × 10 行
┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐
│y │s │p │c │f │b │d │m │f │b │
│e │u │e │o │o │i │o │o │i │o │
│s │n │p │l │o │g │g │n │s │o │
│  │  │l │o │d │  │  │  │h │k │
└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘

┌──────────────┐
│ [空白框]     │
├──────────────┤
│ [空白框]     │
├──────────────┤
... (10 個框)
└──────────────┘

卡片大小：很小 (~28px 高)
左側變成水平排列
```

### Screenshot_279 (每頁匹配數 20)
```
左側：2 行 × 10 列        右側：1 列 × 20 行
┌──┬──┬──┬──┬──┬──┬──┬──┬──┬──┐
│h │c │t │b │b │m │y │s │n │b │
│i │a │o │i │l │o │e │u │o │o │
│g │t │o │g │u │o │l │n │  │o │
│h │  │l │  │e │n │l │  │  │k │
├──┼──┼──┼──┼──┼──┼──┼──┼──┼──┤
│r │f │c │p │a │g │d │y │f │l │
│o │i │o │e │i │o │o │e │o │o │
│o │s │l │o │r │o │g │s │o │w │
│t │h │o │l │  │d │  │  │d │  │
└──┴──┴──┴──┴──┴──┴──┴──┴──┴──┘

┌──────────────┐
│ [空白框]     │
├──────────────┤
│ [空白框]     │
├──────────────┤
... (20 個框)
└──────────────┘

卡片大小：較小 (~40px 高)
左側變成 2 行 × 10 列
```

---

## 🎨 佈局策略

### 決策樹

```
itemCount = ?

if (itemCount <= 5) {
  ├─ 左側：垂直單列 (1 列)
  ├─ 右側：垂直單列 (1 列)
  └─ 卡片大小：較大

else if (itemCount <= 7) {
  ├─ 左側：多行多列 (2 列)
  ├─ 右側：垂直單列 (1 列)
  └─ 卡片大小：中等

else if (itemCount = 10) {
  ├─ 左側：水平排列 (1 行 × 10 列)
  ├─ 右側：垂直單列 (1 列)
  └─ 卡片大小：很小

else if (itemCount = 20) {
  ├─ 左側：多行排列 (2 行 × 10 列)
  ├─ 右側：垂直單列 (1 列)
  └─ 卡片大小：較小
}
```

---

## 📊 預設值配置表

| 值 | 左側佈局 | 右側佈局 | 卡片高度 | 卡片寬度 | 說明 |
|----|---------|---------|---------|---------|------|
| **3** | 1列×3行 | 1列×3行 | 65px | 120px | 基礎配置 |
| **4** | 1列×4行 | 1列×4行 | 56px | 110px | 優化配置 |
| **5** | 1列×5行 | 1列×5行 | 48px | 100px | 標準配置 |
| **7** | 2列×4行 | 1列×7行 | 35px | 80px | 默認配置 |
| **10** | 1行×10列 | 1列×10行 | 28px | 60px | 緊湊配置 |
| **20** | 2行×10列 | 1列×20行 | 40px | 70px | 超緊湊配置 |

---

## 🔧 實現細節

### 左側佈局計算

```javascript
function calculateLeftLayout(itemCount) {
  if (itemCount <= 5) {
    return {
      columns: 1,
      rows: itemCount,
      layout: 'single-column'
    };
  } else if (itemCount <= 7) {
    return {
      columns: 2,
      rows: Math.ceil(itemCount / 2),
      layout: 'multi-rows'
    };
  } else {
    return {
      columns: itemCount,
      rows: 1,
      layout: 'single-row'
    };
  }
}
```

### 右側佈局計算

```javascript
function calculateRightLayout(itemCount) {
  return {
    columns: 1,
    rows: itemCount,
    layout: 'single-column'
  };
}
```

### 卡片大小計算

```javascript
function calculateCardSize(itemCount, containerWidth, containerHeight) {
  const baseHeights = {
    3: 65, 4: 56, 5: 48, 7: 35, 10: 28, 20: 14
  };
  
  const baseWidths = {
    3: 120, 4: 110, 5: 100, 7: 80, 10: 60, 20: 40
  };
  
  return {
    height: baseHeights[itemCount] || 35,
    width: baseWidths[itemCount] || 80
  };
}
```

---

## ✨ 關鍵特性

✅ **自動佈局切換**
- 3-5 對：垂直單列
- 7 對：多行多列
- 10+ 對：水平排列

✅ **空間利用優化**
- 根據卡片數量自動調整大小
- 充分利用容器空間
- 保持良好的用戶體驗

✅ **響應式設計**
- 支持不同設備尺寸
- 自動適應屏幕寬度
- 保持卡片比例

✅ **視覺一致性**
- 左右兩側卡片數量相同
- 卡片大小和間距一致
- 顏色和樣式統一

---

## 🚀 下一步

1. **修改 SeparatedLayoutCalculator**
   - 添加 `calculateLeftLayout()` 方法
   - 添加 `calculateRightLayout()` 方法
   - 添加 `calculateCardSize()` 方法

2. **修改 game.js**
   - 使用新的佈局計算方法
   - 根據 itemCount 選擇佈局方式
   - 應用動態卡片大小

3. **測試驗證**
   - 測試所有 6 個預設值
   - 驗證佈局切換正確
   - 驗證卡片大小合適

---

**基於實際截圖的設計方案**
**版本**: 1.0 | **狀態**: ✅ 分析完成

