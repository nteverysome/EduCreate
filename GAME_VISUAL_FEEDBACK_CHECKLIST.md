# 遊戲視覺反饋實現檢查清單

## 📋 開發前檢查

### 設計階段
- [ ] 確定反饋類型（成功、失敗、警告、信息）
- [ ] 選擇合適的視覺元素（文字、圖標、動畫）
- [ ] 定義顏色方案（確保高對比度）
- [ ] 定義字體大小（確保易讀性）
- [ ] 定義位置（容器內、容器外、屏幕中央）
- [ ] 定義動畫效果（淡入、縮放、旋轉）
- [ ] 定義持續時間（多久後消失）

### 技術準備
- [ ] 了解 Phaser 容器座標系統
- [ ] 準備座標計算公式
- [ ] 準備顏色代碼
- [ ] 準備字體設置
- [ ] 準備深度設置

---

## 🛠️ 實現階段

### 代碼結構
- [ ] 創建反饋管理器類（可選）
- [ ] 實現反饋顯示函數
- [ ] 實現反饋隱藏函數
- [ ] 實現反饋更新函數
- [ ] 添加詳細的日誌

### 座標系統
- [ ] 確定使用世界座標還是相對座標
- [ ] 計算正確的座標偏移
- [ ] 驗證座標計算公式
- [ ] 測試邊界情況

### 視覺設置
- [ ] 設置正確的字體大小
- [ ] 設置正確的顏色
- [ ] 設置正確的深度
- [ ] 設置正確的透明度
- [ ] 設置正確的原點（origin）

### 容器管理
- [ ] 決定是否添加到容器中
- [ ] 如果添加到容器，驗證容器渲染
- [ ] 如果直接在場景中，驗證座標計算
- [ ] 測試容器移動時的行為

---

## 🧪 測試階段

### 功能測試
- [ ] 反饋在正確的位置顯示
- [ ] 反饋使用正確的顏色
- [ ] 反饋使用正確的字體大小
- [ ] 反饋不被其他元素遮擋
- [ ] 反饋在正確的時間消失

### 邊界情況測試
- [ ] 多個反饋同時顯示
- [ ] 反饋在屏幕邊界附近
- [ ] 反饋在容器邊界附近
- [ ] 快速連續觸發反饋
- [ ] 反饋在不同分辨率下

### 性能測試
- [ ] 反饋創建不會導致卡頓
- [ ] 反饋銷毀不會導致內存洩漏
- [ ] 多個反饋不會導致性能下降
- [ ] 反饋動畫流暢

### 無障礙測試
- [ ] 顏色對比度足夠（WCAG AA 標準）
- [ ] 字體大小足夠大
- [ ] 反饋不依賴於顏色（添加文字或圖標）
- [ ] 反饋持續時間足夠長

---

## 🐛 調試檢查清單

### 反饋看不到
- [ ] 檢查元素是否被創建
  ```javascript
  console.log('元素:', mark);
  ```
- [ ] 檢查元素是否被添加到場景
  ```javascript
  console.log('父容器:', mark.parentContainer);
  ```
- [ ] 檢查座標是否正確
  ```javascript
  console.log('位置:', { x: mark.x, y: mark.y });
  ```
- [ ] 檢查深度是否足夠高
  ```javascript
  console.log('深度:', mark.depth);
  ```
- [ ] 檢查透明度是否為 0
  ```javascript
  console.log('透明度:', mark.alpha);
  ```
- [ ] 檢查可見性是否為 false
  ```javascript
  console.log('可見:', mark.visible);
  ```

### 反饋位置不對
- [ ] 驗證座標計算公式
- [ ] 檢查容器位置
- [ ] 檢查偏移量計算
- [ ] 檢查是否使用了正確的座標系統
- [ ] 使用調試點驗證位置
  ```javascript
  this.add.graphics()
    .fillStyle(0xff0000)
    .fillCircle(expectedX, expectedY, 5)
    .setDepth(9999);
  ```

### 反饋被遮擋
- [ ] 檢查其他元素的深度
- [ ] 提升反饋的深度
- [ ] 檢查是否有遮罩或裁剪
- [ ] 檢查容器的可見性

### 反饋顏色不對
- [ ] 驗證顏色代碼
- [ ] 檢查是否有顏色覆蓋
- [ ] 檢查是否有透明度影響
- [ ] 在不同背景上測試

---

## 📊 性能優化檢查清單

### 內存管理
- [ ] 反饋對象被正確銷毀
- [ ] 沒有內存洩漏
- [ ] 重用反饋對象（如果可能）
- [ ] 使用對象池（如果頻繁創建）

### 渲染優化
- [ ] 反饋不會導致過度渲染
- [ ] 反饋動畫使用 Tween（而不是每幀更新）
- [ ] 反饋不會導致 GPU 過載
- [ ] 反饋在移動設備上流暢

### 代碼優化
- [ ] 避免在每幀創建新對象
- [ ] 避免複雜的座標計算
- [ ] 使用緩存的值
- [ ] 避免不必要的日誌輸出

---

## 📱 跨平台檢查清單

### 桌面版
- [ ] 在 Chrome 上測試
- [ ] 在 Firefox 上測試
- [ ] 在 Safari 上測試
- [ ] 在不同分辨率上測試

### 移動版
- [ ] 在 iOS 上測試
- [ ] 在 Android 上測試
- [ ] 在不同屏幕尺寸上測試
- [ ] 在不同像素密度上測試

### 響應式設計
- [ ] 反饋在小屏幕上可見
- [ ] 反饋在大屏幕上不過大
- [ ] 反饋位置在不同分辨率下正確
- [ ] 字體大小在不同分辨率下合適

---

## 🎨 設計檢查清單

### 視覺一致性
- [ ] 反饋風格與遊戲整體風格一致
- [ ] 顏色方案與遊戲調色板一致
- [ ] 字體與遊戲字體一致
- [ ] 動畫風格與遊戲動畫風格一致

### 用戶體驗
- [ ] 反饋清晰易懂
- [ ] 反饋不會分散用戶注意力
- [ ] 反饋不會阻擋重要信息
- [ ] 反饋提供有用的信息

### 無障礙設計
- [ ] 顏色對比度足夠
- [ ] 字體大小足夠
- [ ] 反饋不依賴於顏色
- [ ] 反饋持續時間足夠

---

## 📝 文檔檢查清單

### 代碼文檔
- [ ] 函數有清晰的註釋
- [ ] 參數有說明
- [ ] 返回值有說明
- [ ] 有使用示例

### 技術文檔
- [ ] 記錄座標計算公式
- [ ] 記錄顏色方案
- [ ] 記錄字體設置
- [ ] 記錄深度設置

### 維護文檔
- [ ] 記錄已知問題
- [ ] 記錄解決方案
- [ ] 記錄最佳實踐
- [ ] 記錄常見陷阱

---

## ✅ 最終檢查

在發佈前，確保：

- [ ] 所有測試通過
- [ ] 沒有控制台錯誤
- [ ] 沒有性能問題
- [ ] 無障礙設計達標
- [ ] 文檔完整
- [ ] 代碼審查通過
- [ ] 用戶測試通過

---

## 🔗 相關資源

- **快速總結**：`X_MARK_FIX_SUMMARY.md`
- **詳細文檔**：`MATCH_UP_GAME_X_MARK_FIX_DOCUMENTATION.md`
- **技術指南**：`PHASER_CONTAINER_COORDINATE_SYSTEM_GUIDE.md`
- **快速參考**：`VISUAL_FEEDBACK_IMPLEMENTATION_QUICK_REFERENCE.md`

---

## 💡 提示

- 使用這個檢查清單作為開發指南
- 在每個階段檢查相應的項目
- 如果遇到問題，參考相關文檔
- 記錄新發現的問題和解決方案
- 不斷改進和優化

