# 🧪 右側卡片圖片支持 - 測試和驗證指南 v62.0

## 📋 測試清單

### 1️⃣ 環境準備

- [ ] 確保開發服務器運行：`npm run dev`
- [ ] 確保數據庫連接正常
- [ ] 確保 API 服務可用

### 2️⃣ 功能測試

#### 測試場景 1：只有文字（佈局 C）

**步驟**：
1. 打開遊戲頁面
2. 查看右側卡片
3. 應該只顯示中文文字

**預期結果**：
- ✅ 右側卡片顯示中文文字
- ✅ 沒有圖片
- ✅ 沒有語音按鈕

**檢查日誌**：
```
🎨 [v62.0] createRightCard 被調用: {
  hasText: true,
  hasImage: false,
  hasAudio: false
}
🎨 [v62.0] 右側卡片佈局 C: 只有文字
```

#### 測試場景 2：圖片 + 文字（佈局 D）

**前置條件**：
- 詞彙有 `chineseImageUrl`
- 詞彙有 `chinese` 文字

**步驟**：
1. 編輯詞彙，添加中文圖片 URL
2. 保存並開始遊戲
3. 查看右側卡片

**預期結果**：
- ✅ 上方顯示圖片（60%）
- ✅ 下方顯示文字（40%）
- ✅ 沒有語音按鈕

**檢查日誌**：
```
🎨 [v62.0] 右側卡片佈局 D: 圖片 + 文字
```

#### 測試場景 3：只有語音（佈局 B）

**前置條件**：
- 詞彙有 `audioUrl`
- 詞彙沒有 `chinese` 文字
- 詞彙沒有 `chineseImageUrl`

**步驟**：
1. 編輯詞彙，移除中文文字
2. 保存並開始遊戲
3. 查看右側卡片

**預期結果**：
- ✅ 卡片中央顯示語音按鈕
- ✅ 沒有圖片
- ✅ 沒有文字

**檢查日誌**：
```
🎨 [v62.0] 右側卡片佈局 B: 只有語音
```

#### 測試場景 4：圖片 + 語音（ImageAudio）

**前置條件**：
- 詞彙有 `chineseImageUrl`
- 詞彙有 `audioUrl`
- 詞彙沒有 `chinese` 文字

**步驟**：
1. 編輯詞彙，添加圖片和語音
2. 移除中文文字
3. 保存並開始遊戲

**預期結果**：
- ✅ 上方顯示圖片（80%）
- ✅ 下方顯示語音按鈕（20%）
- ✅ 沒有文字

**檢查日誌**：
```
🎨 [v62.0] 右側卡片佈局 ImageAudio: 圖片 + 語音
```

#### 測試場景 5：圖片 + 文字 + 語音（佈局 A）

**前置條件**：
- 詞彙有 `chineseImageUrl`
- 詞彙有 `chinese` 文字
- 詞彙有 `audioUrl`

**步驟**：
1. 編輯詞彙，添加圖片、文字和語音
2. 保存並開始遊戲
3. 查看右側卡片

**預期結果**：
- ✅ 上方顯示語音按鈕（30%）
- ✅ 中間顯示圖片（40%）
- ✅ 下方顯示文字（30%）

**檢查日誌**：
```
🎨 [v62.0] 右側卡片佈局 A: 圖片 + 文字 + 語音
```

### 3️⃣ 交互測試

#### 測試語音播放

**步驟**：
1. 點擊語音按鈕
2. 應該播放語音

**預期結果**：
- ✅ 語音按鈕可點擊
- ✅ 語音正常播放
- ✅ 沒有錯誤

#### 測試卡片拖拽

**步驟**：
1. 拖拽左側卡片到右側卡片
2. 應該進行配對檢查

**預期結果**：
- ✅ 拖拽正常工作
- ✅ 配對檢查正常
- ✅ 分數計算正確

### 4️⃣ 調試檢查

#### 打開瀏覽器開發者工具

**步驟**：
1. 按 F12 打開開發者工具
2. 切換到 Console 標籤
3. 查看日誌輸出

**預期日誌**：
```
🎨 [v62.0] createRightCard 被調用: {
  pairId: 1,
  hasText: true,
  hasImage: true,
  hasAudio: true,
  textPosition: 'bottom'
}

🔍 [v62.0] 右側卡片內容檢查: {
  pairId: 1,
  hasImage: true,
  hasText: true,
  hasAudio: true,
  combination: 'ITA'
}

🎨 [v62.0] 右側卡片佈局 A: 圖片 + 文字 + 語音
```

#### 檢查 Network 標籤

**步驟**：
1. 打開 Network 標籤
2. 查看圖片加載

**預期結果**：
- ✅ 圖片 URL 正確
- ✅ 圖片加載成功（200 狀態碼）
- ✅ 沒有 404 錯誤

### 5️⃣ 性能測試

#### 測試多個卡片

**步驟**：
1. 創建 20+ 個詞彙
2. 開始遊戲
3. 檢查性能

**預期結果**：
- ✅ 遊戲加載快速
- ✅ 沒有卡頓
- ✅ 內存使用正常

## 📊 測試結果記錄

### 測試日期：___________

| 測試場景 | 狀態 | 備註 |
|---------|------|------|
| 場景 1：只有文字 | [ ] | |
| 場景 2：圖片 + 文字 | [ ] | |
| 場景 3：只有語音 | [ ] | |
| 場景 4：圖片 + 語音 | [ ] | |
| 場景 5：圖片 + 文字 + 語音 | [ ] | |
| 語音播放 | [ ] | |
| 卡片拖拽 | [ ] | |
| 配對檢查 | [ ] | |
| 分數計算 | [ ] | |
| 性能測試 | [ ] | |

## 🐛 常見問題

### 問題 1：圖片不顯示

**可能原因**：
- 圖片 URL 無效
- 圖片加載失敗
- CORS 問題

**解決方案**：
1. 檢查 Network 標籤中的圖片 URL
2. 檢查 Console 中的錯誤信息
3. 確保圖片 URL 可訪問

### 問題 2：語音不播放

**可能原因**：
- 語音 URL 無效
- 瀏覽器音量靜音
- 音頻格式不支持

**解決方案**：
1. 檢查語音 URL 是否正確
2. 檢查瀏覽器音量設置
3. 確保音頻格式支持（MP3、WAV 等）

### 問題 3：佈局錯誤

**可能原因**：
- 內容檢測邏輯錯誤
- 佈局函數有 bug
- 參數傳遞錯誤

**解決方案**：
1. 檢查 Console 日誌
2. 檢查 createRightCard 函數
3. 檢查佈局函數實現

## ✅ 驗證清單

- [ ] 所有 5 個測試場景通過
- [ ] 語音播放正常
- [ ] 卡片拖拽正常
- [ ] 配對檢查正常
- [ ] 分數計算正確
- [ ] 沒有控制台錯誤
- [ ] 性能測試通過
- [ ] 文檔已更新

## 🎉 測試完成

當所有測試都通過時，v62.0 實現完成！

