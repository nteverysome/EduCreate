# å¡ç‰‡å°ºå¯¸èª¿æ•´ç­–ç•¥å°æ¯”åˆ†æ

## ğŸ“Š ä¸‰ç¨®æ¨¡å¼å°æ¯”

### 1. åˆ†é›¢æ¨¡å¼ vs æ··åˆæ¨¡å¼ vs å…¶ä»–æ¨¡å¼

| ç‰¹æ€§ | åˆ†é›¢æ¨¡å¼ | æ··åˆæ¨¡å¼ | èªªæ˜ |
|------|---------|---------|------|
| **åˆ—æ•¸** | å›ºå®š 2 åˆ— | å‹•æ…‹ 5-10 åˆ— | æ··åˆæ¨¡å¼æ›´éˆæ´» |
| **å¡ç‰‡å½¢ç‹€** | é•·æ–¹å½¢ | æ­£æ–¹å½¢/é•·æ–¹å½¢ | æ··åˆæ¨¡å¼æ”¯æŒå¤šç¨® |
| **ä½ˆå±€** | å·¦å³åˆ†é–‹ | ç¶²æ ¼ä½ˆå±€ | æ··åˆæ¨¡å¼æ›´ç·Šæ¹Š |
| **è¨­å‚™é©é…** | ç°¡å–® | è¤‡é›œ | æ··åˆæ¨¡å¼éœ€è¦æ›´å¤šé‚è¼¯ |
| **ç©ºé–“åˆ©ç”¨** | ä½ | é«˜ | æ··åˆæ¨¡å¼åˆ©ç”¨ç‡æ›´é«˜ |
| **è¨ˆç®—è¤‡é›œåº¦** | ä½ | é«˜ | æ··åˆæ¨¡å¼è¨ˆç®—æ›´è¤‡é›œ |

---

## ğŸ”„ è¨ˆç®—æµç¨‹å°æ¯”

### åˆ†é›¢æ¨¡å¼è¨ˆç®—æµç¨‹

```
è¼¸å…¥ï¼šwidth, height, itemCount
  â†“
1. è¨ˆç®—å·¦å´å®¹å™¨å¯¬åº¦ = width * 0.4
2. è¨ˆç®—å³å´å®¹å™¨å¯¬åº¦ = width * 0.4
3. è¨ˆç®—å¡ç‰‡é«˜åº¦ = (height - margins) / itemCount
4. è¨ˆç®—å¡ç‰‡å¯¬åº¦ = å®¹å™¨å¯¬åº¦ - padding
  â†“
è¼¸å‡ºï¼š{ leftCardSize, rightCardSize }
```

### æ··åˆæ¨¡å¼è¨ˆç®—æµç¨‹

```
è¼¸å…¥ï¼šwidth, height, itemCount, hasImages, isFullscreen
  â†“
1. è¨­å‚™æª¢æ¸¬ â†’ deviceType
2. é…ç½®é¸æ“‡ â†’ config
3. ç©ºé–“è¨ˆç®— â†’ availableWidth, availableHeight
4. åˆ—æ•¸è¨ˆç®— â†’ colsï¼ˆå‹•æ…‹ï¼‰
5. è¡Œæ•¸è¨ˆç®— â†’ rows
6. æ ¹æ“šå¡ç‰‡é¡å‹è¨ˆç®—å°ºå¯¸
7. æ‡‰ç”¨æœ€å°/æœ€å¤§é™åˆ¶
  â†“
è¼¸å‡ºï¼š{ cardWidth, cardHeight, cols, rows, spacing }
```

---

## ğŸ“ å°ºå¯¸è¨ˆç®—å°æ¯”

### åˆ†é›¢æ¨¡å¼

```javascript
// ç°¡å–®çš„æ¯”ä¾‹è¨ˆç®—
const cardHeight = (height - topMargin - bottomMargin) / itemCount;
const cardWidth = (width * 0.4 - padding * 2) / 2;  // å·¦å³å„ä¸€åˆ—
```

### æ··åˆæ¨¡å¼ - æ­£æ–¹å½¢

```javascript
// è¤‡é›œçš„é›™è»¸è¨ˆç®—
const availableHeightPerRow = (availableHeight - verticalSpacing * (rows + 1)) / rows;
const squareSizeByHeight = availableHeightPerRow / 1.4;  // è€ƒæ…®æ–‡å­—é«˜åº¦

const squareSizeByWidth = (availableWidth - horizontalSpacing * (cols + 1)) / cols;

const squareSize = Math.min(squareSizeByHeight, squareSizeByWidth);
```

### æ··åˆæ¨¡å¼ - é•·æ–¹å½¢

```javascript
// å¯¬åº¦å……åˆ†åˆ©ç”¨ï¼Œé«˜åº¦å—é™
const cardWidth = (availableWidth - horizontalSpacing * (cols + 1)) / cols;
const cardHeight = (availableHeightPerRow - verticalSpacing) / 1.4;
```

---

## ğŸ¯ è¨­å‚™é©é…å°æ¯”

### åˆ†é›¢æ¨¡å¼

```javascript
// ç°¡å–®çš„è¨­å‚™æª¢æ¸¬
if (width < 768) {
    // æ‰‹æ©Ÿï¼šèª¿æ•´é‚Šè·
    topMargin = 20;
    bottomMargin = 20;
} else {
    // æ¡Œé¢ï¼šèª¿æ•´é‚Šè·
    topMargin = 50;
    bottomMargin = 50;
}
```

### æ··åˆæ¨¡å¼

```javascript
// è¤‡é›œçš„å¤šå±¤è¨­å‚™æª¢æ¸¬
const deviceType = getDeviceType(width, height);
const config = getContainerConfig(deviceType, isFullscreen);

// æ ¹æ“šè¨­å‚™é¡å‹é¸æ“‡ä¸åŒçš„ï¼š
// - é‚Šè·
// - æŒ‰éˆ•å€åŸŸ
// - åˆ—æ•¸ï¼ˆå›ºå®šæˆ–å‹•æ…‹ï¼‰
// - æœ€å°å¡ç‰‡å°ºå¯¸
// - æ¨¡å¼ï¼ˆç·Šæ¹Šæˆ–æ¡Œé¢ï¼‰
```

---

## ğŸ“Š åƒæ•¸å°ç…§è¡¨

### åˆ†é›¢æ¨¡å¼åƒæ•¸

| åƒæ•¸ | æ‰‹æ©Ÿ | æ¡Œé¢ |
|------|------|------|
| é ‚éƒ¨é‚Šè· | 20px | 50px |
| åº•éƒ¨é‚Šè· | 20px | 50px |
| å·¦å³é‚Šè· | 20px | 50px |
| åˆ—æ•¸ | 2 | 2 |
| æœ€å°å¡ç‰‡é«˜ | 60px | 100px |

### æ··åˆæ¨¡å¼åƒæ•¸

| åƒæ•¸ | æ‰‹æ©Ÿç›´å‘ | å¹³æ¿ | æ¡Œé¢ |
|------|---------|------|------|
| é ‚éƒ¨æŒ‰éˆ• | 40px | 60px | 80px |
| åº•éƒ¨æŒ‰éˆ• | 40px | 60px | 80px |
| å·¦å³é‚Šè· | 20px | 30px | 50px |
| åˆ—æ•¸ | 5 | å‹•æ…‹ | å‹•æ…‹ |
| æœ€å°å¡ç‰‡ | 150px | 150px | 150px |

---

## ğŸ” ç‰¹æ®Šè™•ç†å°æ¯”

### åˆ†é›¢æ¨¡å¼

```javascript
// ç‰¹æ®Šè™•ç†ï¼šç„¡
// ç°¡å–®ç›´æ¥çš„è¨ˆç®—
```

### æ··åˆæ¨¡å¼

```javascript
// ç‰¹æ®Šè™•ç† 1ï¼šä¸­æ–‡æ–‡å­—é«˜åº¦
chineseTextHeight = cardHeight * 0.4;  // æ­£æ–¹å½¢æ¨¡å¼
totalUnitHeight = cardHeight + chineseTextHeight + spacing;

// ç‰¹æ®Šè™•ç† 2ï¼šå…¨è¢å¹•æ¨¡å¼
if (isFullscreen) {
    config.minCardSize *= 0.8;  // å…è¨±æ›´å°çš„å¡ç‰‡
}

// ç‰¹æ®Šè™•ç† 3ï¼šè¡Œæ•¸è¶…é™
if (rows > maxPossibleRows) {
    cols++;  // å¢åŠ åˆ—æ•¸
    rows = Math.ceil(itemCount / cols);
}

// ç‰¹æ®Šè™•ç† 4ï¼šå¡ç‰‡å°ºå¯¸éå°
if (cardSize < minSize && cols < itemCount) {
    cols++;  // å¢åŠ åˆ—æ•¸
}
```

---

## ğŸ’¡ é¸æ“‡å»ºè­°

### ä½¿ç”¨åˆ†é›¢æ¨¡å¼çš„å ´æ™¯

- âœ… ç°¡å–®çš„å·¦å³å°æ¯”éŠæˆ²
- âœ… å¡ç‰‡æ•¸é‡å›ºå®šï¼ˆ3-5 å°ï¼‰
- âœ… è¨­å‚™é¡å‹å–®ä¸€
- âœ… ä¸éœ€è¦è¤‡é›œçš„éŸ¿æ‡‰å¼è¨­è¨ˆ

### ä½¿ç”¨æ··åˆæ¨¡å¼çš„å ´æ™¯

- âœ… è¤‡é›œçš„ç¶²æ ¼ä½ˆå±€
- âœ… å¡ç‰‡æ•¸é‡å¯è®Šï¼ˆ3-20+ å°ï¼‰
- âœ… å¤šç¨®è¨­å‚™é¡å‹
- âœ… éœ€è¦å……åˆ†åˆ©ç”¨è¢å¹•ç©ºé–“
- âœ… éœ€è¦æ”¯æŒå…¨è¢å¹•æ¨¡å¼

---

## ğŸš€ æ€§èƒ½å°æ¯”

### åˆ†é›¢æ¨¡å¼

```
è¨ˆç®—æ™‚é–“ï¼š< 1ms
è¤‡é›œåº¦ï¼šO(1)
è¨˜æ†¶é«”ï¼šæœ€å°
```

### æ··åˆæ¨¡å¼

```
è¨ˆç®—æ™‚é–“ï¼š1-5ms
è¤‡é›œåº¦ï¼šO(n)ï¼Œå…¶ä¸­ n = è¨­å‚™é¡å‹æ•¸é‡
è¨˜æ†¶é«”ï¼šä¸­ç­‰
```

---

## ğŸ“ˆ å¯æ“´å±•æ€§å°æ¯”

### åˆ†é›¢æ¨¡å¼

```
æ”¯æŒå¡ç‰‡æ•¸é‡ï¼š3-5 å°ï¼ˆå›ºå®šï¼‰
æ”¯æŒè¨­å‚™é¡å‹ï¼š2-3 ç¨®
æ”¯æŒå¡ç‰‡å½¢ç‹€ï¼š1 ç¨®ï¼ˆé•·æ–¹å½¢ï¼‰
æ”¯æŒå…¨è¢å¹•ï¼šå¦
```

### æ··åˆæ¨¡å¼

```
æ”¯æŒå¡ç‰‡æ•¸é‡ï¼š3-100+ å°ï¼ˆå‹•æ…‹ï¼‰
æ”¯æŒè¨­å‚™é¡å‹ï¼š5+ ç¨®
æ”¯æŒå¡ç‰‡å½¢ç‹€ï¼š2+ ç¨®ï¼ˆæ­£æ–¹å½¢ã€é•·æ–¹å½¢ï¼‰
æ”¯æŒå…¨è¢å¹•ï¼šæ˜¯
```

---

## ğŸ“ å­¸ç¿’æ›²ç·š

### åˆ†é›¢æ¨¡å¼

```
ç†è§£é›£åº¦ï¼šâ­ ç°¡å–®
å¯¦ç¾é›£åº¦ï¼šâ­ ç°¡å–®
ç¶­è­·é›£åº¦ï¼šâ­ ç°¡å–®
```

### æ··åˆæ¨¡å¼

```
ç†è§£é›£åº¦ï¼šâ­â­â­ ä¸­ç­‰
å¯¦ç¾é›£åº¦ï¼šâ­â­â­ ä¸­ç­‰
ç¶­è­·é›£åº¦ï¼šâ­â­â­â­ è¤‡é›œ
```

---

## ğŸ”§ é·ç§»æŒ‡å—

### å¾åˆ†é›¢æ¨¡å¼é·ç§»åˆ°æ··åˆæ¨¡å¼

1. **ç¬¬ 1 æ­¥**ï¼šå¯¦ç¾è¨­å‚™æª¢æ¸¬
2. **ç¬¬ 2 æ­¥**ï¼šå¯¦ç¾å®¹å™¨é…ç½®
3. **ç¬¬ 3 æ­¥**ï¼šå¯¦ç¾ç©ºé–“è¨ˆç®—
4. **ç¬¬ 4 æ­¥**ï¼šå¯¦ç¾åˆ—æ•¸è¨ˆç®—
5. **ç¬¬ 5 æ­¥**ï¼šå¯¦ç¾å¡ç‰‡å°ºå¯¸è¨ˆç®—
6. **ç¬¬ 6 æ­¥**ï¼šæ·»åŠ ç‰¹æ®Šè™•ç†
7. **ç¬¬ 7 æ­¥**ï¼šæ¸¬è©¦æ‰€æœ‰è¨­å‚™é¡å‹
8. **ç¬¬ 8 æ­¥**ï¼šå„ªåŒ–æ€§èƒ½

---

## âœ… é©—è­‰æ¸…å–®

### åˆ†é›¢æ¨¡å¼é©—è­‰

- [ ] å·¦å´å¡ç‰‡æ­£ç¢ºæ’åˆ—
- [ ] å³å´å¡ç‰‡æ­£ç¢ºæ’åˆ—
- [ ] å¡ç‰‡ä¸è¶…å‡ºé‚Šç•Œ
- [ ] æ–‡å­—èƒ½æ­£ç¢ºé¡¯ç¤º

### æ··åˆæ¨¡å¼é©—è­‰

- [ ] è¨­å‚™æª¢æ¸¬æ­£ç¢º
- [ ] åˆ—æ•¸è¨ˆç®—æ­£ç¢º
- [ ] è¡Œæ•¸è¨ˆç®—æ­£ç¢º
- [ ] å¡ç‰‡å°ºå¯¸æ­£ç¢º
- [ ] é–“è·åˆç†
- [ ] å…¨è¢å¹•æ¨¡å¼æ­£ç¢º
- [ ] æ‰€æœ‰è¨­å‚™é¡å‹éƒ½èƒ½æ­£å¸¸å·¥ä½œ
- [ ] é‚Šç•Œæƒ…æ³è™•ç†æ­£ç¢º

