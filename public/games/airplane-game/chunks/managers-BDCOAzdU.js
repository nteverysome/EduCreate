var e=Object.defineProperty,t=(t,i,s)=>((t,i,s)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s)(t,"symbol"!=typeof i?i+"":i,s);class i{constructor(){t(this,"wordDatabase",new Map),t(this,"currentLevel","elementary"),this.initializeWordDatabase()}initializeWordDatabase(){this.wordDatabase.set("elementary",[{id:"1",english:"hello",chinese:"ä½ å¥½",level:"elementary",frequency:100},{id:"2",english:"world",chinese:"ä¸–ç•Œ",level:"elementary",frequency:95},{id:"3",english:"book",chinese:"æ›¸",level:"elementary",frequency:90},{id:"4",english:"school",chinese:"å­¸æ ¡",level:"elementary",frequency:85},{id:"5",english:"friend",chinese:"æœ‹å‹",level:"elementary",frequency:80},{id:"6",english:"family",chinese:"å®¶åº­",level:"elementary",frequency:85},{id:"7",english:"house",chinese:"æˆ¿å­",level:"elementary",frequency:82},{id:"8",english:"water",chinese:"æ°´",level:"elementary",frequency:88},{id:"9",english:"food",chinese:"é£Ÿç‰©",level:"elementary",frequency:86},{id:"10",english:"time",chinese:"æ™‚é–“",level:"elementary",frequency:92}]),this.wordDatabase.set("intermediate",[{id:"11",english:"environment",chinese:"ç’°å¢ƒ",level:"intermediate",frequency:75},{id:"12",english:"technology",chinese:"æŠ€è¡“",level:"intermediate",frequency:78},{id:"13",english:"education",chinese:"æ•™è‚²",level:"intermediate",frequency:80},{id:"14",english:"government",chinese:"æ”¿åºœ",level:"intermediate",frequency:72},{id:"15",english:"economy",chinese:"ç¶“æ¿Ÿ",level:"intermediate",frequency:70}]),this.wordDatabase.set("high-intermediate",[{id:"16",english:"sophisticated",chinese:"è¤‡é›œçš„",level:"high-intermediate",frequency:60},{id:"17",english:"phenomenon",chinese:"ç¾è±¡",level:"high-intermediate",frequency:58},{id:"18",english:"hypothesis",chinese:"å‡è¨­",level:"high-intermediate",frequency:55},{id:"19",english:"methodology",chinese:"æ–¹æ³•è«–",level:"high-intermediate",frequency:52},{id:"20",english:"comprehensive",chinese:"å…¨é¢çš„",level:"high-intermediate",frequency:65}]),console.log("ðŸ“š GEPT è©žå½™æ•¸æ“šåº«åˆå§‹åŒ–å®Œæˆ")}setLevel(e){this.currentLevel=e,console.log(`ðŸ“Š è¨­ç½® GEPT ç­‰ç´š: ${e}`)}getCurrentLevel(){return this.currentLevel}getWordsForLevel(e){return this.wordDatabase.get(e)||[]}getCurrentLevelWords(){return this.getWordsForLevel(this.currentLevel)}getRandomWord(e){const t=e||this.currentLevel,i=this.getWordsForLevel(t);if(0===i.length)return console.warn(`âš ï¸ æ²’æœ‰æ‰¾åˆ° ${t} ç­‰ç´šçš„è©žå½™`),null;return i[Math.floor(Math.random()*i.length)]}getRandomWords(e,t){const i=t||this.currentLevel,s=this.getWordsForLevel(i);if(0===s.length)return[];return[...s].sort((()=>.5-Math.random())).slice(0,Math.min(e,s.length))}findWordById(e){for(const[t,i]of this.wordDatabase){const t=i.find((t=>t.id===e));if(t)return t}return null}findWordByEnglish(e){for(const[t,i]of this.wordDatabase){const t=i.find((t=>t.english.toLowerCase()===e.toLowerCase()));if(t)return t}return null}validateWord(e,t){const i=this.findWordByEnglish(e);if(!i)return{isValid:!1,errors:[{type:"gept-compliance",message:`è©žå½™ "${e}" ä¸åœ¨ GEPT ${t} è©žå½™è¡¨ä¸­`,severity:"error",suggestion:"è«‹ä½¿ç”¨ GEPT æ¨™æº–è©žå½™"}],warnings:[],suggestions:[],geptCompliance:{level:t,score:0,issues:[`è©žå½™ "${e}" æœªæ‰¾åˆ°`]}};const s=i.level===t;return{isValid:s,errors:s?[]:[{type:"gept-compliance",message:`è©žå½™ "${e}" å±¬æ–¼ ${i.level} ç­‰ç´šï¼Œä¸ç¬¦åˆ ${t} ç­‰ç´šè¦æ±‚`,severity:"warning",suggestion:`å»ºè­°ä½¿ç”¨ ${t} ç­‰ç´šè©žå½™`}],warnings:[],suggestions:[],geptCompliance:{level:i.level,score:s?100:50,issues:s?[]:[`ç­‰ç´šä¸åŒ¹é…: ${i.level} vs ${t}`]}}}getStatistics(){return{elementary:this.wordDatabase.get("elementary")?.length||0,intermediate:this.wordDatabase.get("intermediate")?.length||0,"high-intermediate":this.wordDatabase.get("high-intermediate")?.length||0}}addWord(e){const t=this.wordDatabase.get(e.level);if(!t)return!1;return t.some((t=>t.english.toLowerCase()===e.english.toLowerCase()))?(console.warn(`âš ï¸ è©žå½™ "${e.english}" å·²å­˜åœ¨`),!1):(t.push(e),console.log(`âœ… æ·»åŠ è©žå½™: ${e.english} (${e.level})`),!0)}}class s{constructor(e,i,s){t(this,"scene"),t(this,"geptLevel"),t(this,"effectConfig"),t(this,"targetEnglishWord",""),t(this,"targetChineseWord",""),t(this,"targetSetTime",0),t(this,"collisionHistory",[]),t(this,"correctCollisions",0),t(this,"incorrectCollisions",0),t(this,"particles"),t(this,"screenShakeIntensity",0),this.scene=e,this.geptLevel=i,this.effectConfig=s,this.initializeEffectSystems(),console.log("ðŸŽ¯ ç¢°æ’žæª¢æ¸¬ç³»çµ±åˆå§‹åŒ–å®Œæˆ")}initializeEffectSystems(){this.effectConfig.enableParticles&&this.initializeParticleSystem()}initializeParticleSystem(){const e=this.scene.add.graphics();e.fillStyle(16777215),e.fillCircle(4,4,4),e.generateTexture("particle",8,8),e.destroy(),console.log("âœ¨ ç²’å­ç³»çµ±åˆå§‹åŒ–å®Œæˆ")}setTargetWord(e,t){this.targetEnglishWord=e,this.targetChineseWord=t,this.targetSetTime=Date.now(),console.log(`ðŸŽ¯ è¨­ç½®ç›®æ¨™è©žå½™: ${e} (${t})`)}handleCollision(e,t,i){const s=Date.now(),r=s-this.targetSetTime,n=i.english===this.targetEnglishWord,o=n?"correct":"incorrect",l={type:o,cloudWord:i.english,targetWord:this.targetEnglishWord,responseTime:r,timestamp:s,playerPosition:{x:e.x,y:e.y},cloudPosition:{x:t.x,y:t.y}};return n?this.correctCollisions++:this.incorrectCollisions++,this.collisionHistory.push(l),this.triggerCollisionEffects(l,t),console.log(`ðŸ’¥ ç¢°æ’žè™•ç†: ${i.english} - ${o}`),l}triggerCollisionEffects(e,t){const{x:i,y:s}=e.cloudPosition;this.effectConfig.enableVisualFeedback&&"neutral"!==e.type&&this.createVisualFeedback(e.type,i,s),this.effectConfig.enableParticles&&"neutral"!==e.type&&this.createParticleEffect(e.type,i,s),this.effectConfig.enableScreenShake&&"neutral"!==e.type&&this.triggerScreenShake(e.type),this.effectConfig.enableSoundEffects&&"neutral"!==e.type&&this.playSoundEffect(e.type)}createVisualFeedback(e,t,i){const s="correct"===e?"#00ff00":"#ff0000",r="correct"===e?"âœ“":"âœ—",n=this.scene.add.text(t,i,r,{fontSize:"32px",color:s,fontStyle:"bold"}).setOrigin(.5);this.scene.tweens.add({targets:n,y:i-50,alpha:0,scale:1.5,duration:1e3,ease:"Power2",onComplete:()=>n.destroy()})}createParticleEffect(e,t,i){const s="correct"===e?65280:16711680,r=this.getParticleCount(),n=this.scene.add.particles(t,i,"particle",{speed:{min:50,max:150},scale:{start:.5,end:0},tint:s,lifespan:500,quantity:r});this.scene.time.delayedCall(1e3,(()=>{n.destroy()}))}getParticleCount(){switch(this.effectConfig.particleIntensity){case"low":return 5;case"medium":default:return 10;case"high":return 20}}triggerScreenShake(e){const t="correct"===e?5:10,i="correct"===e?200:400;this.scene.cameras.main&&this.scene.cameras.main.shake(i,t)}playSoundEffect(e){const t="correct"===e?"æ­£ç¢ºéŸ³æ•ˆ":"éŒ¯èª¤éŸ³æ•ˆ";console.log(`ðŸ”Š æ’­æ”¾${t} (éŸ³é‡: ${this.effectConfig.soundVolume})`)}getStatistics(){const e=this.correctCollisions+this.incorrectCollisions,t=e>0?this.correctCollisions/e*100:0,i=this.collisionHistory.reduce(((e,t)=>e+t.responseTime),0),s=this.collisionHistory.length>0?i/this.collisionHistory.length:0;return{correctCollisions:this.correctCollisions,incorrectCollisions:this.incorrectCollisions,totalCollisions:e,accuracy:Math.round(100*t)/100,averageResponseTime:Math.round(s)}}getCollisionHistory(){return[...this.collisionHistory]}resetStatistics(){this.correctCollisions=0,this.incorrectCollisions=0,this.collisionHistory=[],console.log("ðŸ“Š ç¢°æ’žçµ±è¨ˆæ•¸æ“šå·²é‡ç½®")}updateConfig(e){this.effectConfig={...this.effectConfig,...e},console.log("âš™ï¸ ç¢°æ’žæª¢æ¸¬é…ç½®å·²æ›´æ–°")}destroy(){this.particles&&this.particles.destroy(),this.collisionHistory=[],console.log("ðŸ—‘ï¸ ç¢°æ’žæª¢æ¸¬ç³»çµ±å·²éŠ·æ¯€")}}class r{constructor(){t(this,"memoryTypes",new Map),t(this,"currentConfiguration"),t(this,"learningHistory",[]),t(this,"memoryMetrics"),this.initializeMemoryTypes(),this.currentConfiguration=this.getDefaultConfiguration(),this.memoryMetrics=this.getInitialMetrics(),console.log("ðŸ§  è¨˜æ†¶å¢žå¼·å¼•æ“Žåˆå§‹åŒ–å®Œæˆ")}initializeMemoryTypes(){[{id:"spatial-visual",name:"ç©ºé–“è¦–è¦ºè¨˜æ†¶",description:"åŸºæ–¼ç©ºé–“ä½ç½®å’Œè¦–è¦ºç‰¹å¾µçš„è¨˜æ†¶",cognitiveLoad:"medium",memorySystem:"working",neuralBasis:["è¦–è¦ºçš®å±¤","é ‚è‘‰çš®å±¤"],enhancementStrategies:["ç©ºé–“é…ç½®","é¡è‰²ç·¨ç¢¼","è¦–è¦ºæç¤º"]},{id:"collision-reaction",name:"ç¢°æ’žåæ‡‰è¨˜æ†¶",description:"åŸºæ–¼å‹•ä½œåæ‡‰çš„ç¨‹åºæ€§è¨˜æ†¶",cognitiveLoad:"high",memorySystem:"procedural",neuralBasis:["å°è…¦","åŸºåº•ç¥žç¶“ç¯€"],enhancementStrategies:["é‡è¤‡ç·´ç¿’","å³æ™‚åé¥‹","è‚Œè‚‰è¨˜æ†¶"]},{id:"vocabulary-association",name:"è©žå½™é—œè¯è¨˜æ†¶",description:"åŸºæ–¼èªžç¾©é—œè¯çš„é•·æœŸè¨˜æ†¶",cognitiveLoad:"medium",memorySystem:"long-term",neuralBasis:["æµ·é¦¬é«”","é¡³è‘‰çš®å±¤"],enhancementStrategies:["èªžç¾©é€£çµ","æƒ…å¢ƒå­¸ç¿’","é–“éš”é‡è¤‡"]}].forEach((e=>{this.memoryTypes.set(e.id,e)}))}getDefaultConfiguration(){return{primaryMemoryType:"collision-reaction",secondaryMemoryTypes:["spatial-visual","vocabulary-association"],difficultyLevel:3,timeConstraints:{enabled:!0,duration:5,pressureLevel:"medium"},repetitionSettings:{spacedRepetition:!0,intervalMultiplier:2,maxRepetitions:5},feedbackMechanisms:{immediate:!0,delayed:!1,explanatory:!0,emotional:!0}}}getInitialMetrics(){return{retentionRate:0,recallSpeed:0,errorRate:0,cognitiveLoad:5,engagementLevel:8,learningEfficiency:0}}recordLearningEvent(e){this.learningHistory.push(e),this.updateMetrics(),console.log(`ðŸ“ è¨˜éŒ„å­¸ç¿’äº‹ä»¶: ${e.word} - ${e.isCorrect?"æ­£ç¢º":"éŒ¯èª¤"}`)}updateMetrics(){if(0===this.learningHistory.length)return;const e=this.learningHistory.slice(-20),t=e.filter((e=>e.isCorrect));this.memoryMetrics.retentionRate=t.length/e.length*100;const i=e.reduce(((e,t)=>e+t.responseTime),0);this.memoryMetrics.recallSpeed=i/e.length,this.memoryMetrics.errorRate=100-this.memoryMetrics.retentionRate,this.memoryMetrics.learningEfficiency=this.calculateLearningEfficiency(),console.log("ðŸ“Š è¨˜æ†¶æŒ‡æ¨™å·²æ›´æ–°:",this.memoryMetrics)}calculateLearningEfficiency(){if(this.learningHistory.length<5)return 0;const e=this.learningHistory.slice(-10),t=e.slice(0,5),i=e.slice(5),s=t.filter((e=>e.isCorrect)).length/t.length,r=i.filter((e=>e.isCorrect)).length/i.length-s;return Math.max(0,Math.min(100,50*(r+1)))}getPersonalizedRecommendations(){const e=[],t=this.memoryMetrics;return t.retentionRate<60&&(e.push("å»ºè­°å¢žåŠ é‡è¤‡ç·´ç¿’é »çŽ‡"),e.push("è€ƒæ…®é™ä½Žé›£åº¦ç­‰ç´š")),t.recallSpeed>3e3&&(e.push("å»ºè­°é€²è¡Œåæ‡‰é€Ÿåº¦è¨“ç·´"),e.push("å¯ä»¥å˜—è©¦æ›´å¤šè¦–è¦ºæç¤º")),t.errorRate>40&&(e.push("å»ºè­°åŠ å¼·åŸºç¤Žè©žå½™ç·´ç¿’"),e.push("è€ƒæ…®ä½¿ç”¨æ›´å¤šè¨˜æ†¶è¼”åŠ©å·¥å…·")),t.learningEfficiency<30&&(e.push("å»ºè­°èª¿æ•´å­¸ç¿’ç­–ç•¥"),e.push("å¯ä»¥å˜—è©¦ä¸åŒçš„è¨˜æ†¶æŠ€å·§")),e}getCurrentMetrics(){return{...this.memoryMetrics}}getLearningHistory(){return[...this.learningHistory]}updateConfiguration(e){this.currentConfiguration={...this.currentConfiguration,...e},console.log("âš™ï¸ è¨˜æ†¶å¢žå¼·é…ç½®å·²æ›´æ–°")}getCurrentConfiguration(){return{...this.currentConfiguration}}reset(){this.learningHistory=[],this.memoryMetrics=this.getInitialMetrics(),console.log("ðŸ”„ è¨˜æ†¶å¢žå¼·å¼•æ“Žå·²é‡ç½®")}getMemoryType(e){return this.memoryTypes.get(e)}getAllMemoryTypes(){return Array.from(this.memoryTypes.values())}}export{s as C,i as G,r as M};
//# sourceMappingURL=managers-BDCOAzdU.js.map
