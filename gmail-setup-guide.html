<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gmail SMTP è¨­å®šæŒ‡å— - EduCreate</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .step {
            background: #f8f9fa;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #007bff;
        }
        .step h3 {
            color: #007bff;
            margin-top: 0;
        }
        .code {
            background: #f1f3f4;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .input-group {
            margin: 15px 0;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        .progress {
            background: #e9ecef;
            height: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .progress-bar {
            background: #007bff;
            height: 100%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ Gmail SMTP è¨­å®šæŒ‡å—</h1>
        <p>ç‚º EduCreate éƒµç®±é©—è­‰åŠŸèƒ½è¨­å®š Gmail SMTPï¼ˆå®Œå…¨å…è²»ï¼‰</p>
        
        <div class="progress">
            <div class="progress-bar" id="progressBar" style="width: 0%"></div>
        </div>
        
        <div id="step1" class="step">
            <h3>ğŸ“§ æ­¥é©Ÿ 1: æº–å‚™ Gmail å¸³æˆ¶</h3>
            <p>æ‚¨éœ€è¦ä¸€å€‹ Gmail å¸³æˆ¶ä¾†ç™¼é€é©—è­‰éƒµä»¶ã€‚</p>
            <div class="input-group">
                <label for="gmailAddress">Gmail åœ°å€:</label>
                <input type="email" id="gmailAddress" placeholder="your-email@gmail.com">
            </div>
            <button onclick="openGoogleAccount()">å‰å¾€ Google å¸³æˆ¶è¨­å®š</button>
            <button onclick="nextStep(2)">ä¸‹ä¸€æ­¥</button>
        </div>
        
        <div id="step2" class="step" style="display: none;">
            <h3>ğŸ”’ æ­¥é©Ÿ 2: å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰</h3>
            <p>Gmail SMTP éœ€è¦å…©æ­¥é©Ÿé©—è­‰æ‰èƒ½ä½¿ç”¨æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€‚</p>
            <ol>
                <li>åœ¨ Google å¸³æˆ¶é é¢ï¼Œé»æ“Šå·¦å´çš„ã€Œå®‰å…¨æ€§ã€</li>
                <li>æ‰¾åˆ°ã€Œå…©æ­¥é©Ÿé©—è­‰ã€é¸é …</li>
                <li>å¦‚æœæœªå•Ÿç”¨ï¼Œè«‹é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€</li>
                <li>æŒ‰ç…§æŒ‡ç¤ºå®Œæˆè¨­å®šï¼ˆé€šå¸¸éœ€è¦æ‰‹æ©Ÿè™Ÿç¢¼ï¼‰</li>
            </ol>
            <div class="warning">
                âš ï¸ å¦‚æœå·²ç¶“å•Ÿç”¨å…©æ­¥é©Ÿé©—è­‰ï¼Œå¯ä»¥ç›´æ¥é€²è¡Œä¸‹ä¸€æ­¥ã€‚
            </div>
            <button onclick="openTwoFactor()">å‰å¾€å…©æ­¥é©Ÿé©—è­‰è¨­å®š</button>
            <button onclick="nextStep(3)">ä¸‹ä¸€æ­¥</button>
        </div>
        
        <div id="step3" class="step" style="display: none;">
            <h3>ğŸ”‘ æ­¥é©Ÿ 3: ç”Ÿæˆæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼</h3>
            <p>ç‚º EduCreate ç”Ÿæˆå°ˆç”¨çš„æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€‚</p>
            <ol>
                <li>åœ¨å…©æ­¥é©Ÿé©—è­‰é é¢ï¼Œæ‰¾åˆ°ã€Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€</li>
                <li>é»æ“Šã€Œæ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ã€</li>
                <li>é¸æ“‡æ‡‰ç”¨ç¨‹å¼ï¼šã€Œéƒµä»¶ã€</li>
                <li>é¸æ“‡è£ç½®ï¼šã€Œå…¶ä»–ï¼ˆè‡ªè¨‚åç¨±ï¼‰ã€</li>
                <li>è¼¸å…¥åç¨±ï¼šã€ŒEduCreate SMTPã€</li>
                <li>é»æ“Šã€Œç”¢ç”Ÿã€</li>
                <li>è¤‡è£½é¡¯ç¤ºçš„ 16 ä½æ•¸å¯†ç¢¼</li>
            </ol>
            <div class="input-group">
                <label for="appPassword">æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼ (16ä½æ•¸):</label>
                <input type="password" id="appPassword" placeholder="abcd efgh ijkl mnop" maxlength="19">
            </div>
            <button onclick="openAppPasswords()">å‰å¾€æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼</button>
            <button onclick="nextStep(4)">ä¸‹ä¸€æ­¥</button>
        </div>
        
        <div id="step4" class="step" style="display: none;">
            <h3>ğŸ“ æ­¥é©Ÿ 4: æ›´æ–°ç’°å¢ƒé…ç½®</h3>
            <p>å°‡ Gmail æ†‘è­‰æ·»åŠ åˆ° EduCreate é…ç½®ä¸­ã€‚</p>
            
            <h4>æœ¬åœ°é–‹ç™¼ç’°å¢ƒ (.env æ–‡ä»¶):</h4>
            <div class="code" id="envConfig">
                <div>EMAIL_SERVER_HOST="smtp.gmail.com"</div>
                <div>EMAIL_SERVER_PORT="587"</div>
                <div>EMAIL_SERVER_USER="<span id="envUser">your-email@gmail.com</span>"</div>
                <div>EMAIL_SERVER_PASSWORD="<span id="envPassword">your-app-password</span>"</div>
                <div>EMAIL_SERVER_SECURE="true"</div>
                <div>EMAIL_FROM="<span id="envFrom">your-email@gmail.com</span>"</div>
            </div>
            
            <button onclick="copyEnvConfig()">è¤‡è£½é…ç½®</button>
            <button onclick="nextStep(5)">ä¸‹ä¸€æ­¥</button>
        </div>
        
        <div id="step5" class="step" style="display: none;">
            <h3>ğŸŒ æ­¥é©Ÿ 5: ç”Ÿç”¢ç’°å¢ƒé…ç½®</h3>
            <p>åœ¨ Vercel ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸ã€‚</p>
            <ol>
                <li>å‰å¾€ <a href="https://vercel.com/dashboard" target="_blank">Vercel å„€è¡¨æ¿</a></li>
                <li>é¸æ“‡ EduCreate å°ˆæ¡ˆ</li>
                <li>é»æ“Šã€ŒSettingsã€â†’ã€ŒEnvironment Variablesã€</li>
                <li>æ·»åŠ ä»¥ä¸‹ç’°å¢ƒè®Šæ•¸ï¼š</li>
            </ol>
            
            <div class="code" id="vercelConfig">
                <div>EMAIL_SERVER_USER = <span id="vercelUser">your-email@gmail.com</span></div>
                <div>EMAIL_SERVER_PASSWORD = <span id="vercelPassword">your-app-password</span></div>
                <div>EMAIL_FROM = <span id="vercelFrom">your-email@gmail.com</span></div>
            </div>
            
            <button onclick="openVercel()">å‰å¾€ Vercel è¨­å®š</button>
            <button onclick="nextStep(6)">ä¸‹ä¸€æ­¥</button>
        </div>
        
        <div id="step6" class="step" style="display: none;">
            <h3>ğŸ§ª æ­¥é©Ÿ 6: æ¸¬è©¦éƒµç®±é©—è­‰</h3>
            <p>æ¸¬è©¦ Gmail SMTP æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚</p>
            
            <div class="success">
                ğŸ‰ è¨­å®šå®Œæˆï¼ç¾åœ¨æ‚¨å¯ä»¥ï¼š
                <ul>
                    <li>åœ¨ EduCreate è¨»å†Šæ–°å¸³æˆ¶</li>
                    <li>æª¢æŸ¥éƒµç®±æ”¶åˆ°é©—è­‰éƒµä»¶</li>
                    <li>é»æ“Šé©—è­‰é€£çµå•Ÿç”¨å¸³æˆ¶</li>
                </ul>
            </div>
            
            <button onclick="testRegistration()">æ¸¬è©¦è¨»å†ŠåŠŸèƒ½</button>
            <button onclick="generateReport()">ç”Ÿæˆè¨­å®šå ±å‘Š</button>
        </div>
    </div>

    <script>
        let currentStep = 1;
        
        function nextStep(step) {
            // éš±è—ç•¶å‰æ­¥é©Ÿ
            document.getElementById(`step${currentStep}`).style.display = 'none';
            
            // é¡¯ç¤ºä¸‹ä¸€æ­¥é©Ÿ
            document.getElementById(`step${step}`).style.display = 'block';
            currentStep = step;
            
            // æ›´æ–°é€²åº¦æ¢
            const progress = (step / 6) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // æ›´æ–°é…ç½®ä¿¡æ¯
            updateConfig();
        }
        
        function updateConfig() {
            const gmail = document.getElementById('gmailAddress').value;
            const password = document.getElementById('appPassword').value;
            
            if (gmail) {
                document.getElementById('envUser').textContent = gmail;
                document.getElementById('envFrom').textContent = gmail;
                document.getElementById('vercelUser').textContent = gmail;
                document.getElementById('vercelFrom').textContent = gmail;
            }
            
            if (password) {
                document.getElementById('envPassword').textContent = password;
                document.getElementById('vercelPassword').textContent = password;
            }
        }
        
        function openGoogleAccount() {
            window.open('https://myaccount.google.com/', '_blank');
        }
        
        function openTwoFactor() {
            window.open('https://myaccount.google.com/signinoptions/two-step-verification', '_blank');
        }
        
        function openAppPasswords() {
            window.open('https://myaccount.google.com/apppasswords', '_blank');
        }
        
        function openVercel() {
            window.open('https://vercel.com/dashboard', '_blank');
        }
        
        function copyEnvConfig() {
            const config = document.getElementById('envConfig').textContent;
            navigator.clipboard.writeText(config).then(() => {
                alert('âœ… ç’°å¢ƒé…ç½®å·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
            });
        }
        
        function testRegistration() {
            window.open('https://edu-create.vercel.app/register', '_blank');
        }
        
        function generateReport() {
            const gmail = document.getElementById('gmailAddress').value;
            const password = document.getElementById('appPassword').value;
            
            const report = `
Gmail SMTP è¨­å®šå ±å‘Š
==================
è¨­å®šæ™‚é–“: ${new Date().toLocaleString()}
Gmail åœ°å€: ${gmail}
æ‡‰ç”¨ç¨‹å¼å¯†ç¢¼: ${password ? 'å·²è¨­å®š âœ…' : 'æœªè¨­å®š âŒ'}

ç’°å¢ƒè®Šæ•¸é…ç½®:
EMAIL_SERVER_USER=${gmail}
EMAIL_SERVER_PASSWORD=${password}
EMAIL_FROM=${gmail}

ä¸‹ä¸€æ­¥:
1. æ›´æ–° .env æ–‡ä»¶
2. åœ¨ Vercel ä¸­è¨­å®šç’°å¢ƒè®Šæ•¸
3. é‡æ–°éƒ¨ç½²æ‡‰ç”¨ç¨‹å¼
4. æ¸¬è©¦è¨»å†ŠåŠŸèƒ½
            `;
            
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'gmail-smtp-setup-report.txt';
            a.click();
        }
        
        // ç›£è½è¼¸å…¥è®ŠåŒ–
        document.getElementById('gmailAddress').addEventListener('input', updateConfig);
        document.getElementById('appPassword').addEventListener('input', updateConfig);
    </script>
</body>
</html>
