import{P as e}from"./phaser-51c66cbb.js";import{b as t,p as s}from"./game-b51d85e0.js";import"./planes-9c241b37.js";function i(e,t=!1){const s=document.getElementById("game-status");s&&(s.innerHTML=e,s.style.borderColor=t?"#e74c3c":"#3498db",s.style.background=t?"rgba(231, 76, 60, 0.2)":"rgba(52, 73, 94, 0.8)")}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();console.log("ðŸŽ¯ é–‹å§‹åˆå§‹åŒ– Phaser 3 é£›æ©Ÿé¸æ“‡å™¨"),console.log(`ðŸ“Š éŠæˆ²é…ç½®: ${t.SCREEN.WIDTH}x${t.SCREEN.HEIGHT}`);const o=new class{constructor(){this.game=null,this.isInitialized=!1,this.init()}async init(){try{if(i("ðŸ”§ åˆå§‹åŒ–éŠæˆ²é…ç½®..."),void 0===e)throw new Error("Phaser 3 æœªèƒ½æ­£ç¢ºè¼‰å…¥");i(`âœ… Phaser ${e.VERSION} è¼‰å…¥æˆåŠŸï¼`),"complete"!==document.readyState&&await new Promise(e=>{window.addEventListener("load",e)}),i("ðŸŽ® å‰µå»ºéŠæˆ²å¯¦ä¾‹..."),this.createGame()}catch(t){console.error("éŠæˆ²åˆå§‹åŒ–å¤±æ•—:",t),i(`âŒ åˆå§‹åŒ–å¤±æ•—: ${t instanceof Error?t.message:"æœªçŸ¥éŒ¯èª¤"}`,!0)}}createGame(){try{const t=document.getElementById("game-container");if(!t)throw new Error("æ‰¾ä¸åˆ°éŠæˆ²å®¹å™¨å…ƒç´ ");const o={...s,parent:t,callbacks:{preBoot:e=>{console.log("ðŸš€ Phaser éŠæˆ²é å•Ÿå‹•"),i("ðŸš€ éŠæˆ²å¼•æ“Žå•Ÿå‹•ä¸­...")},postBoot:e=>{console.log("âœ… Phaser éŠæˆ²å•Ÿå‹•å®Œæˆ"),i("ðŸŽ¯ éŠæˆ²æº–å‚™å°±ç·’ï¼é»žæ“Šé–‹å§‹éŠæˆ²"),function(){const e=document.getElementById("loading-screen");e&&(e.style.opacity="0",setTimeout(()=>{e.style.display="none"},500))}(),this.isInitialized=!0}}};this.game=new e.Game(o),this.setupGameEvents()}catch(t){console.error("å‰µå»ºéŠæˆ²å¤±æ•—:",t),i(`âŒ éŠæˆ²å‰µå»ºå¤±æ•—: ${t instanceof Error?t.message:"æœªçŸ¥éŒ¯èª¤"}`,!0)}}setupGameEvents(){this.game&&(this.game.events.on("ready",()=>{console.log("ðŸŽ® éŠæˆ²ç³»çµ±æº–å‚™å®Œæˆ")}),this.game.events.on("destroy",()=>{console.log("ðŸ”„ éŠæˆ²å¯¦ä¾‹å·²éŠ·æ¯€"),this.isInitialized=!1}),window.addEventListener("resize",()=>{this.game&&this.isInitialized&&this.game.scale.refresh()}),document.addEventListener("visibilitychange",()=>{this.game&&this.isInitialized}))}getGame(){return this.game}isReady(){return this.isInitialized}destroy(){this.game&&(this.game.destroy(!0),this.game=null,this.isInitialized=!1)}};window.gameApp=o,window.Phaser=e;
//# sourceMappingURL=main-42e1641e.js.map
