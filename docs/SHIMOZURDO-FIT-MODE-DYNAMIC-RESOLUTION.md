# Shimozurdo éŠæˆ² FIT æ¨¡å¼ + å‹•æ…‹è§£æåº¦å¯¦ç¾

> å°‡ Shimozurdo å¾ RESIZE æ¨¡å¼å‡ç´šç‚º FIT æ¨¡å¼ï¼Œä¸¦æ·»åŠ å‹•æ…‹è§£æåº¦åŠŸèƒ½

## ğŸ“‹ æ”¹é€²æ¦‚è¿°

### æ”¹é€²å‰ï¼ˆRESIZE æ¨¡å¼ï¼‰
- âŒ ä½¿ç”¨ `Phaser.Scale.RESIZE` æ¨¡å¼
- âŒ å›ºå®šè§£æåº¦ 960Ã—540
- âŒ ç„¡æ³•é©æ‡‰è¶…å¯¬è¢å¹•
- âŒ æ©«å‘æ¨¡å¼å¯èƒ½æœ‰é»‘é‚Š
- âŒ éŠæˆ²å…§å®¹å¯èƒ½è®Šå½¢

### æ”¹é€²å¾Œï¼ˆFIT æ¨¡å¼ + å‹•æ…‹è§£æåº¦ï¼‰
- âœ… ä½¿ç”¨ `Phaser.Scale.FIT` æ¨¡å¼
- âœ… å‹•æ…‹è§£æåº¦è¨ˆç®—
- âœ… é©æ‡‰è¶…å¯¬è¢å¹•ï¼ˆå¯¬é«˜æ¯” > 2.0ï¼‰
- âœ… æ©«å‘æ¨¡å¼ç„¡é»‘é‚Š
- âœ… éŠæˆ²å…§å®¹ä¿æŒæ¯”ä¾‹

## ğŸ¯ æŠ€è¡“å¯¦ç¾

### 1. å‹•æ…‹è§£æåº¦è¨ˆç®—å‡½æ•¸

```javascript
// ğŸ¯ å‹•æ…‹èª¿æ•´éŠæˆ²è§£æåº¦ - æ ¹æ“šè¢å¹•å¯¬é«˜æ¯”ï¼ˆåƒè€ƒ Starshakeï¼‰
function calculateGameDimensions() {
  const screenWidth = window.innerWidth;
  const screenHeight = window.innerHeight;
  const aspectRatio = screenWidth / screenHeight;

  console.log('ğŸ“± Shimozurdo è¢å¹•å°ºå¯¸:', screenWidth, 'x', screenHeight);
  console.log('ğŸ“ å¯¬é«˜æ¯”:', aspectRatio.toFixed(2));

  let gameWidth, gameHeight;

  // æª¢æ¸¬æ©«å‘æ¨¡å¼ä¸”å¯¬é«˜æ¯” > 2.0ï¼ˆè¶…å¯¬è¢å¹•ï¼‰
  if (aspectRatio > 2.0) {
    // è¶…å¯¬è¢å¹•ï¼šå¢åŠ éŠæˆ²å¯¬åº¦ä»¥å¡«æ»¿è¢å¹•
    gameWidth = 1600;
    gameHeight = 900;
    console.log('ğŸ® Shimozurdo ä½¿ç”¨è¶…å¯¬è§£æåº¦:', gameWidth, 'x', gameHeight);
  } else if (aspectRatio > 1.5) {
    // æ©«å‘æ¨¡å¼ï¼šä½¿ç”¨åŠ å¯¬è§£æåº¦
    gameWidth = 1200;
    gameHeight = 675;
    console.log('ğŸ® Shimozurdo ä½¿ç”¨æ©«å‘è§£æåº¦:', gameWidth, 'x', gameHeight);
  } else {
    // ç›´å‘æ¨¡å¼æˆ–æ­£å¸¸å¯¬é«˜æ¯”ï¼šä½¿ç”¨åŸå§‹è§£æåº¦
    gameWidth = SIZE_WIDTH_SCREEN;  // 960
    gameHeight = SIZE_HEIGHT_SCREEN; // 540
    console.log('ğŸ® Shimozurdo ä½¿ç”¨æ¨™æº–è§£æåº¦:', gameWidth, 'x', gameHeight);
  }

  return { gameWidth, gameHeight };
}
```

### 2. FIT æ¨¡å¼é…ç½®

```javascript
// å°å‡ºéŠæˆ²é…ç½®ç‰©ä»¶ - ä½¿ç”¨ FIT æ¨¡å¼ + å‹•æ…‹è§£æåº¦
export const gameConfig = {
  type: Phaser.AUTO,
  // ğŸ¯ ä½¿ç”¨å‹•æ…‹è¨ˆç®—çš„éŠæˆ²å°ºå¯¸
  width: gameWidth,
  height: gameHeight,
  scale: {
    // ğŸ¯ ä½¿ç”¨ FIT æ¨¡å¼ï¼Œä¿æŒæ¯”ä¾‹ä¸¦é©æ‡‰å®¹å™¨ï¼ˆåƒè€ƒ Starshakeï¼‰
    mode: Phaser.Scale.FIT,
    parent: 'game',
    // ğŸ¯ æ°´å¹³å±…ä¸­ï¼Œå‚ç›´å‘ä¸Šå°é½Šï¼ˆåƒè€ƒ Starshakeï¼‰
    autoCenter: Phaser.Scale.CENTER_HORIZONTALLY,
  },
  autoRound: false,
  dom: {
    createContainer: true
  },
  scene: []
};
```

### 3. è¦–çª—å¤§å°è®ŠåŒ–ç›£è½

```javascript
// ğŸ”„ ç›£è½è¦–çª—å¤§å°è®ŠåŒ–ï¼Œå‹•æ…‹èª¿æ•´éŠæˆ²è§£æåº¦ï¼ˆåƒè€ƒ Starshakeï¼‰
window.addEventListener('resize', () => {
  const { gameWidth: newWidth, gameHeight: newHeight } = calculateGameDimensions();

  // å¦‚æœè§£æåº¦æ”¹è®Šï¼Œé‡æ–°è¼‰å…¥éŠæˆ²
  if (newWidth !== gameWidth || newHeight !== gameHeight) {
    console.log('ğŸ”„ Shimozurdo è¢å¹•å°ºå¯¸æ”¹è®Šï¼Œé‡æ–°è¼‰å…¥éŠæˆ²');
    console.log('ğŸ“Š èˆŠè§£æåº¦:', gameWidth, 'x', gameHeight);
    console.log('ğŸ“Š æ–°è§£æåº¦:', newWidth, 'x', newHeight);
    window.location.reload();
  }
});
```

## ğŸ“Š è§£æåº¦ç­–ç•¥è¡¨

| è¢å¹•é¡å‹ | å¯¬é«˜æ¯”ç¯„åœ | éŠæˆ²è§£æåº¦ | ç¯„ä¾‹è¨­å‚™ |
|---------|-----------|-----------|---------|
| **ç›´å‘æ¨¡å¼** | < 1.5 | 960Ã—540 | iPhone ç›´å‘ |
| **æ©«å‘æ¨¡å¼** | 1.5-2.0 | 1200Ã—675 | iPad æ©«å‘ |
| **è¶…å¯¬è¢å¹•** | > 2.0 | 1600Ã—900 | iPhone 14 æ©«å‘ (2.25) |

### è§£æåº¦é¸æ“‡é‚è¼¯

#### ç›´å‘æ¨¡å¼ï¼ˆ< 1.5ï¼‰
- **è§£æåº¦**ï¼š960Ã—540
- **é©ç”¨å ´æ™¯**ï¼šæ‰‹æ©Ÿç›´å‘ã€å¹³æ¿ç›´å‘
- **ç‰¹é»**ï¼šä¿æŒåŸå§‹éŠæˆ²æ¯”ä¾‹

#### æ©«å‘æ¨¡å¼ï¼ˆ1.5-2.0ï¼‰
- **è§£æåº¦**ï¼š1200Ã—675
- **é©ç”¨å ´æ™¯**ï¼šå¹³æ¿æ©«å‘ã€å°ç­†é›»
- **ç‰¹é»**ï¼šå¢åŠ  25% å¯¬åº¦ï¼Œæä¾›æ›´å¯¬è¦–é‡

#### è¶…å¯¬è¢å¹•ï¼ˆ> 2.0ï¼‰
- **è§£æåº¦**ï¼š1600Ã—900
- **é©ç”¨å ´æ™¯**ï¼šæ‰‹æ©Ÿæ©«å‘ã€è¶…å¯¬é¡¯ç¤ºå™¨
- **ç‰¹é»**ï¼šå¢åŠ  67% å¯¬åº¦ï¼Œå®Œå…¨å¡«æ»¿è¢å¹•

## ğŸ”„ èˆ‡ Starshake çš„å°æ¯”

### ç›¸åŒé»
1. **FIT æ¨¡å¼**ï¼šå…©è€…éƒ½ä½¿ç”¨ `Phaser.Scale.FIT`
2. **å‹•æ…‹è§£æåº¦**ï¼šæ ¹æ“šå¯¬é«˜æ¯”å‹•æ…‹èª¿æ•´
3. **CENTER_HORIZONTALLY**ï¼šæ°´å¹³å±…ä¸­ï¼Œå‚ç›´å‘ä¸Šå°é½Š
4. **Resize ç›£è½**ï¼šç›£è½è¦–çª—å¤§å°è®ŠåŒ–ä¸¦é‡æ–°è¼‰å…¥

### ä¸åŒé»

| ç‰¹æ€§ | Starshake | Shimozurdo |
|------|-----------|------------|
| **æ¨™æº–è§£æåº¦** | 1000Ã—800 | 960Ã—540 |
| **æ©«å‘è§£æåº¦** | 1200Ã—800 | 1200Ã—675 |
| **è¶…å¯¬è§£æåº¦** | 1600Ã—800 | 1600Ã—900 |
| **å¯¬é«˜æ¯”** | 1.25 (4:3.2) | 1.78 (16:9) |

### ç‚ºä»€éº¼ä¸åŒï¼Ÿ

**Shimozurdo ä½¿ç”¨ 16:9 æ¯”ä¾‹**ï¼š
- æ›´é©åˆç¾ä»£è¢å¹•ï¼ˆå¤§å¤šæ•¸æ‰‹æ©Ÿå’Œé¡¯ç¤ºå™¨éƒ½æ˜¯ 16:9ï¼‰
- æ›´å¯¬çš„è¦–é‡ï¼Œé©åˆæ©«å‘æ²è»¸éŠæˆ²
- æ›´å¥½çš„ç§»å‹•è¨­å‚™é«”é©—

**Starshake ä½¿ç”¨ 4:3.2 æ¯”ä¾‹**ï¼š
- æ›´æ¥è¿‘æ­£æ–¹å½¢ï¼Œé©åˆå‚ç›´ç§»å‹•
- æ›´ç·Šæ¹Šçš„éŠæˆ²ç•«é¢
- æ›´é©åˆè¡—æ©Ÿé¢¨æ ¼éŠæˆ²

## ğŸ® FIT æ¨¡å¼ vs RESIZE æ¨¡å¼

### FIT æ¨¡å¼å„ªå‹¢
1. **ä¿æŒæ¯”ä¾‹**ï¼šéŠæˆ²å…§å®¹ä¸æœƒè®Šå½¢
2. **é©æ‡‰å®¹å™¨**ï¼šè‡ªå‹•ç¸®æ”¾ä»¥é©æ‡‰å®¹å™¨å¤§å°
3. **é»‘é‚Šæ§åˆ¶**ï¼šå¯ä»¥é€šéå‹•æ…‹è§£æåº¦æ¶ˆé™¤é»‘é‚Š
4. **æ€§èƒ½ç©©å®š**ï¼šå›ºå®šè§£æåº¦ï¼Œæ€§èƒ½å¯é æ¸¬

### RESIZE æ¨¡å¼åŠ£å‹¢
1. **å¯èƒ½è®Šå½¢**ï¼šéŠæˆ²å…§å®¹å¯èƒ½æ‹‰ä¼¸æˆ–å£“ç¸®
2. **æ€§èƒ½ä¸ç©©å®š**ï¼šè§£æåº¦éš¨å®¹å™¨è®ŠåŒ–ï¼Œæ€§èƒ½æ³¢å‹•
3. **ä½ˆå±€è¤‡é›œ**ï¼šéœ€è¦è™•ç†å„ç¨®å°ºå¯¸çš„ä½ˆå±€
4. **æ¸¬è©¦å›°é›£**ï¼šéœ€è¦æ¸¬è©¦å„ç¨®è¢å¹•å°ºå¯¸

## ğŸ“± ç§»å‹•è¨­å‚™æ¸¬è©¦

### iPhone 14 æ©«å‘æ¨¡å¼
```
è¢å¹•å°ºå¯¸ï¼š844Ã—390
å¯¬é«˜æ¯”ï¼š2.16
éŠæˆ²è§£æåº¦ï¼š1600Ã—900
çµæœï¼šâœ… å®Œå…¨å¡«æ»¿è¢å¹•ï¼Œç„¡é»‘é‚Š
```

### iPad æ©«å‘æ¨¡å¼
```
è¢å¹•å°ºå¯¸ï¼š1024Ã—768
å¯¬é«˜æ¯”ï¼š1.33
éŠæˆ²è§£æåº¦ï¼š960Ã—540
çµæœï¼šâœ… ä¿æŒæ¯”ä¾‹ï¼Œæœ‰é»‘é‚Šï¼ˆæ­£å¸¸ï¼‰
```

### iPhone 14 ç›´å‘æ¨¡å¼
```
è¢å¹•å°ºå¯¸ï¼š390Ã—844
å¯¬é«˜æ¯”ï¼š0.46
éŠæˆ²è§£æåº¦ï¼š960Ã—540
çµæœï¼šâœ… ä¿æŒæ¯”ä¾‹ï¼Œé©æ‡‰å®¹å™¨
```

## ğŸ”§ å¯¦æ–½æ­¥é©Ÿ

### æ­¥é©Ÿ 1ï¼šæ·»åŠ å‹•æ…‹è§£æåº¦å‡½æ•¸
åœ¨ `main-module.js` é ‚éƒ¨æ·»åŠ  `calculateGameDimensions()` å‡½æ•¸ã€‚

### æ­¥é©Ÿ 2ï¼šè¨ˆç®—åˆå§‹å°ºå¯¸
```javascript
const { gameWidth, gameHeight } = calculateGameDimensions();
```

### æ­¥é©Ÿ 3ï¼šä¿®æ”¹éŠæˆ²é…ç½®
å°‡ `scale.mode` å¾ `RESIZE` æ”¹ç‚º `FIT`ï¼Œä¸¦ä½¿ç”¨å‹•æ…‹å°ºå¯¸ã€‚

### æ­¥é©Ÿ 4ï¼šæ·»åŠ  Resize ç›£è½å™¨
åœ¨ `initGame()` å‡½æ•¸ä¸­æ·»åŠ è¦–çª—å¤§å°è®ŠåŒ–ç›£è½å™¨ã€‚

### æ­¥é©Ÿ 5ï¼šæ¸¬è©¦
åœ¨ä¸åŒè¨­å‚™å’Œæ–¹å‘ä¸Šæ¸¬è©¦éŠæˆ²ã€‚

## âœ… é©—è­‰æ¸…å–®

### åŠŸèƒ½é©—è­‰
- [ ] ç›´å‘æ¨¡å¼æ­£å¸¸é¡¯ç¤º
- [ ] æ©«å‘æ¨¡å¼æ­£å¸¸é¡¯ç¤º
- [ ] è¶…å¯¬è¢å¹•ç„¡é»‘é‚Š
- [ ] è¦–çª—å¤§å°è®ŠåŒ–æ™‚é‡æ–°è¼‰å…¥
- [ ] éŠæˆ²å…§å®¹ä¿æŒæ¯”ä¾‹

### æ€§èƒ½é©—è­‰
- [ ] FPS ç©©å®šåœ¨ 60
- [ ] ç„¡æ˜é¡¯å¡é “
- [ ] è¨˜æ†¶é«”ä½¿ç”¨æ­£å¸¸
- [ ] è¼‰å…¥æ™‚é–“åˆç†

### å…¼å®¹æ€§é©—è­‰
- [ ] iPhone 14 æ©«å‘/ç›´å‘
- [ ] iPad æ©«å‘/ç›´å‘
- [ ] æ¡Œé¢ç€è¦½å™¨
- [ ] è¶…å¯¬é¡¯ç¤ºå™¨

## ğŸ› å·²çŸ¥å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ

### å•é¡Œ 1ï¼šè¦–çª—å¤§å°è®ŠåŒ–æ™‚éŠæˆ²é‡æ–°è¼‰å…¥
**åŸå› **ï¼šå‹•æ…‹è§£æåº¦æ”¹è®Šéœ€è¦é‡æ–°åˆå§‹åŒ– Phaser
**è§£æ±ºæ–¹æ¡ˆ**ï¼šé€™æ˜¯é æœŸè¡Œç‚ºï¼Œç¢ºä¿éŠæˆ²ä½¿ç”¨æ­£ç¢ºçš„è§£æåº¦

### å•é¡Œ 2ï¼šTouchControls ä½ç½®å¯èƒ½éœ€è¦èª¿æ•´
**åŸå› **ï¼šFIT æ¨¡å¼å¯èƒ½æ”¹è®ŠéŠæˆ²å®¹å™¨çš„å¯¦éš›å°ºå¯¸
**è§£æ±ºæ–¹æ¡ˆ**ï¼šTouchControls ä½¿ç”¨ `position: fixed`ï¼Œä¸å—å½±éŸ¿

### å•é¡Œ 3ï¼šæŸäº›å ´æ™¯å¯èƒ½éœ€è¦èª¿æ•´ä½ˆå±€
**åŸå› **ï¼šä¸åŒè§£æåº¦ä¸‹ï¼ŒéŠæˆ²å…ƒç´ çš„ä½ç½®å¯èƒ½éœ€è¦èª¿æ•´
**è§£æ±ºæ–¹æ¡ˆ**ï¼šä½¿ç”¨éŸ¿æ‡‰å¼ä½ˆå±€ï¼Œåƒè€ƒ `handler.js` çš„ `updateResize()` æ–¹æ³•

## ğŸš€ æœªä¾†æ”¹é€²

### 1. æ›´ç²¾ç´°çš„è§£æåº¦æ§åˆ¶
```javascript
// æ·»åŠ æ›´å¤šè§£æåº¦æª”ä½
if (aspectRatio > 2.5) {
  gameWidth = 2000;
  gameHeight = 800;
} else if (aspectRatio > 2.0) {
  gameWidth = 1600;
  gameHeight = 900;
}
// ...
```

### 2. æ€§èƒ½å„ªåŒ–
```javascript
// æ·»åŠ é˜²æŠ–ï¼Œé¿å…é »ç¹é‡æ–°è¼‰å…¥
let resizeTimeout;
window.addEventListener('resize', () => {
  clearTimeout(resizeTimeout);
  resizeTimeout = setTimeout(() => {
    // æª¢æŸ¥è§£æåº¦è®ŠåŒ–
  }, 500);
});
```

### 3. ç”¨æˆ¶åå¥½è¨­å®š
```javascript
// å…è¨±ç”¨æˆ¶é¸æ“‡è§£æåº¦æ¨¡å¼
const userPreference = localStorage.getItem('resolutionMode');
if (userPreference === 'high') {
  gameWidth *= 1.5;
  gameHeight *= 1.5;
}
```

## ğŸ“š åƒè€ƒè³‡æ–™

### ç›¸é—œæ–‡æª”
- [Phaser Scale Manager å®˜æ–¹æ–‡æª”](https://photonstorm.github.io/phaser3-docs/Phaser.Scale.ScaleManager.html)
- [PHASER-GAME-INTEGRATION-GUIDE.md](./PHASER-GAME-INTEGRATION-GUIDE.md)
- [PHASER-QUICK-REFERENCE.md](./PHASER-QUICK-REFERENCE.md)

### åƒè€ƒå¯¦ç¾
- Starshake éŠæˆ²ï¼š`temp-phaser-zenbaki/starshake/src/main.js`
- Shimozurdo éŠæˆ²ï¼š`public/games/shimozurdo-game/main-module.js`

## ğŸ“Š æ”¹é€²æ•ˆæœç¸½çµ

### æ”¹é€²å‰
- âŒ RESIZE æ¨¡å¼ï¼Œå¯èƒ½è®Šå½¢
- âŒ å›ºå®šè§£æåº¦ 960Ã—540
- âŒ è¶…å¯¬è¢å¹•æœ‰é»‘é‚Š
- âŒ æ€§èƒ½ä¸ç©©å®š

### æ”¹é€²å¾Œ
- âœ… FIT æ¨¡å¼ï¼Œä¿æŒæ¯”ä¾‹
- âœ… å‹•æ…‹è§£æåº¦ï¼ˆ960Ã—540 / 1200Ã—675 / 1600Ã—900ï¼‰
- âœ… è¶…å¯¬è¢å¹•ç„¡é»‘é‚Š
- âœ… æ€§èƒ½ç©©å®šå¯é æ¸¬

---

**æ–‡æª”ç‰ˆæœ¬**ï¼š1.0  
**å‰µå»ºæ—¥æœŸ**ï¼š2025-10-01  
**ä½œè€…**ï¼šEduCreate é–‹ç™¼åœ˜éšŠ  
**åƒè€ƒ**ï¼šStarshake éŠæˆ²å¯¦ç¾

