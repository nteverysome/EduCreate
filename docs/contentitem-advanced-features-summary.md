# ContentItemWithImage 進階功能規劃總結

**日期**: 2025-10-22  
**狀態**: 等待用戶確認方案

---

## 📋 已完成的工作

1. ✅ 完成詳細功能規劃文檔（`docs/contentitem-advanced-features-plan.md`）
2. ✅ 設計了 3 個實施方案
3. ✅ 估算了工作量和時間
4. ✅ 設計了數據結構和 UI

---

## 🎯 規劃的 5 個功能

1. **多個文字區塊** - 在同一張圖片上添加多個獨立的文字區塊
2. **更多顏色選項** - 8 種預設顏色 + 自定義顏色選擇器
3. **字體選擇** - 5 種中文字體（黑體、明體、楷體、圓體等）
4. **文字旋轉** - 0-360° 旋轉角度
5. **文字陰影效果** - 可調整的陰影效果

---

## 🚀 三個實施方案

### 方案 A：完整實施
- **內容**: 實施所有 5 個功能
- **時間**: 約 5.5 小時
- **優點**: 功能完整，一次到位
- **缺點**: 開發時間較長

### 方案 B：分階段實施（推薦）⭐
- **第一階段**: 多個文字區塊 + 更多顏色選項（3 小時）
- **第二階段**: 字體選擇 + 文字陰影效果（2 小時）
- **第三階段**: 文字旋轉（1 小時）
- **優點**: 快速交付核心功能，降低風險
- **缺點**: 需要多次部署

### 方案 C：簡化實施
- **內容**: 只實施 3 個核心功能（多個文字區塊、顏色、字體）
- **時間**: 約 3.5 小時
- **優點**: 快速完成
- **缺點**: 缺少文字旋轉和陰影

---

## 💡 推薦方案

**推薦：方案 B - 分階段實施**

**第一階段交付內容**（3 小時）:
- ✅ 支援添加/刪除多個文字區塊
- ✅ 每個文字區塊可獨立拖動
- ✅ 8 種預設顏色 + 自定義顏色選擇器
- ✅ 文字區塊列表管理
- ✅ 圖片生成支援多個文字區塊

---

## 📊 技術設計亮點

### 數據結構

```typescript
interface TextBlock {
  id: string;
  text: string;
  position: { x: number; y: number }; // percentage
  fontSize: 'small' | 'medium' | 'large';
  textColor: string; // hex color
  fontFamily: string;
  rotation: number; // degrees
  showBackground: boolean;
  shadow: boolean;
}

interface ContentItem {
  id: string;
  imageId?: string;
  imageUrl?: string;
  text: string; // 保留用於向後兼容
  position: number;
  textBlocks?: TextBlock[]; // 新增
}
```

### UI 設計

```
┌─────────────────────────────────────┐
│ 內容項目 #1                    [刪除]│
├─────────────────────────────────────┤
│                                     │
│  [圖片預覽 + 多個文字區塊]           │
│  - 文字區塊 1: "標題文字"            │
│  - 文字區塊 2: "副標題"              │
│                                     │
├─────────────────────────────────────┤
│ 文字區塊列表:                        │
│ ┌─────────────────────────────────┐ │
│ │ 文字區塊 1  [選中] [刪除]        │ │
│ └─────────────────────────────────┘ │
│ ┌─────────────────────────────────┐ │
│ │ 文字區塊 2  [選中] [刪除]        │ │
│ └─────────────────────────────────┘ │
│ [+ 添加文字區塊]                     │
├─────────────────────────────────────┤
│ 文字樣式 (當前選中的區塊):           │
│ 大小: [小] [中] [大]                │
│ 顏色: [⚪][⚫][🔴][🔵][🟢][🟡][🎨]  │
│ 字體: [黑體 ▼]                      │
│ 旋轉: [━━━●━━━] 45°                │
│ 陰影: [開] [關]                     │
│ 背景: [開] [關]                     │
└─────────────────────────────────────┘
```

---

## 📝 下一步行動

### 選項 A：開始實施方案 A（完整實施）
- 一次實施所有 5 個功能
- 預計時間：5.5 小時

### 選項 B：開始實施方案 B 第一階段（推薦）
- 實施多個文字區塊 + 更多顏色選項
- 預計時間：3 小時

### 選項 C：開始實施方案 C（簡化實施）
- 實施 3 個核心功能
- 預計時間：3.5 小時

### 選項 D：修改規劃
- 根據用戶反饋調整規劃

---

## 📄 相關文檔

- **詳細規劃**: `docs/contentitem-advanced-features-plan.md`
- **當前組件**: `components/content-item-with-image/index.tsx`
- **圖片處理庫**: `lib/image-text-overlay.ts`

---

## ⏰ 等待用戶確認

請用戶選擇實施方案後，我將立即開始開發。

**推薦選擇**: 方案 B 第一階段（3 小時）

---

**文檔版本**: v1.0  
**創建時間**: 2025-10-22  
**狀態**: 等待確認

