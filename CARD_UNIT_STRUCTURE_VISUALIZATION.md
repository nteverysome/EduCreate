# ğŸ´ Match-up éŠæˆ² - å–®å…ƒçµæ§‹å¯è¦–åŒ–

## ğŸ“‹ ç›®éŒ„
1. [å–®å…ƒçµæ§‹æ¦‚è¿°](#å–®å…ƒçµæ§‹æ¦‚è¿°)
2. [å·¦å´å¡ç‰‡çµæ§‹](#å·¦å´å¡ç‰‡çµæ§‹)
3. [å³å´å¡ç‰‡çµæ§‹](#å³å´å¡ç‰‡çµæ§‹)
4. [ä½ˆå±€åƒæ•¸](#ä½ˆå±€åƒæ•¸)
5. [ç©ºé–“è¨ˆç®—](#ç©ºé–“è¨ˆç®—)

---

## ğŸ¯ å–®å…ƒçµæ§‹æ¦‚è¿°

### ä»€éº¼æ˜¯ã€Œå–®å…ƒã€ï¼Ÿ
åœ¨ Match-up éŠæˆ²ä¸­ï¼Œä¸€å€‹**å–®å…ƒ**æ˜¯æŒ‡ï¼š
- **1 å°å¡ç‰‡** = 1 å€‹è‹±æ–‡å¡ç‰‡ + 1 å€‹ä¸­æ–‡å¡ç‰‡
- æ¯å€‹å–®å…ƒä½”ç”¨ä¸€å®šçš„å‚ç›´ç©ºé–“
- å¤šå€‹å–®å…ƒå †ç–Šå½¢æˆå®Œæ•´çš„éŠæˆ²ä½ˆå±€

### ç•¶å‰é…ç½®
```
æ¯é é¡¯ç¤ºï¼š3 å°å¡ç‰‡ï¼ˆ6 å€‹å¡ç‰‡ï¼‰
å·¦å´ï¼š3 å€‹è‹±æ–‡å¡ç‰‡ï¼ˆå‚ç›´æ’åˆ—ï¼‰
å³å´ï¼š3 å€‹ä¸­æ–‡å¡ç‰‡ï¼ˆå‚ç›´æ’åˆ—ï¼‰
```

---

## ğŸ´ å·¦å´å¡ç‰‡çµæ§‹

### çµ„ä»¶å±¤æ¬¡
```
Phaser Container (x, y)
â”œâ”€â”€ èƒŒæ™¯çŸ©å½¢ (ç™½è‰² + é»‘é‚Šæ¡†)
â”‚   â”œâ”€â”€ åœ–ç‰‡ (å¯é¸)
â”‚   â”‚   â””â”€â”€ imageUrl
â”‚   â”œâ”€â”€ æ–‡å­—
â”‚   â”‚   â””â”€â”€ pair.question
â”‚   â””â”€â”€ èªéŸ³æŒ‰éˆ• (å¯é¸)
â”‚       â””â”€â”€ audioUrl
â””â”€â”€ å‹•ç•«æ•ˆæœ
    â””â”€â”€ æ·¡å…¥å‹•ç•« (100ms å»¶é²)
```

### å¡ç‰‡åƒæ•¸
| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| `x` | æ°´å¹³ä½ç½® | å®¹å™¨å¯¬åº¦ Ã— 0.42 |
| `y` | å‚ç›´ä½ç½® | startY + index Ã— spacing |
| `width` | å¡ç‰‡å¯¬åº¦ | 120-200px |
| `height` | å¡ç‰‡é«˜åº¦ | 40-65px |
| `text` | è‹±æ–‡æ–‡å­— | "car" |
| `imageUrl` | åœ–ç‰‡ URL | "https://..." |
| `audioUrl` | èªéŸ³ URL | "https://..." |

---

## ğŸ´ å³å´å¡ç‰‡çµæ§‹

### çµ„ä»¶å±¤æ¬¡
```
Phaser Container (x, y)
â”œâ”€â”€ èƒŒæ™¯çŸ©å½¢ (ç™½è‰² + é»‘é‚Šæ¡†)
â”‚   â””â”€â”€ æ–‡å­—
â”‚       â””â”€â”€ pair.answer
â””â”€â”€ å‹•ç•«æ•ˆæœ
    â””â”€â”€ æ·¡å…¥å‹•ç•« (100ms å»¶é²)
```

### å¡ç‰‡åƒæ•¸
| åƒæ•¸ | èªªæ˜ | ç¯„ä¾‹ |
|------|------|------|
| `x` | æ°´å¹³ä½ç½® | å®¹å™¨å¯¬åº¦ Ã— 0.68 |
| `y` | å‚ç›´ä½ç½® | startY + index Ã— spacing |
| `width` | å¡ç‰‡å¯¬åº¦ | 120-200px |
| `height` | å¡ç‰‡é«˜åº¦ | 40-65px |
| `text` | ä¸­æ–‡æ–‡å­— | "ç‹—" |

---

## ğŸ“ ä½ˆå±€åƒæ•¸

### ç•¶å‰é…ç½® (mobile-portrait)
```javascript
{
  cardWidth: { min: 120, max: 200, ratio: 0.18 },
  cardHeight: { min: 40, max: 65, ratio: 0.09 },
  
  positions: {
    leftX: 0.42,      // å·¦å´ X ä½ç½®ï¼ˆå®¹å™¨å¯¬åº¦çš„ 42%ï¼‰
    rightX: 0.68,     // å³å´ X ä½ç½®ï¼ˆå®¹å™¨å¯¬åº¦çš„ 68%ï¼‰
    leftStartY: 0.25,  // å·¦å´èµ·å§‹ Yï¼ˆå®¹å™¨é«˜åº¦çš„ 25%ï¼‰
    rightStartY: 0.22  // å³å´èµ·å§‹ Yï¼ˆå®¹å™¨é«˜åº¦çš„ 22%ï¼‰
  },
  
  spacing: {
    horizontal: 10,    // å¡ç‰‡é–“æ°´å¹³é–“è·
    vertical: 5        // å¡ç‰‡é–“å‚ç›´é–“è·
  },
  
  margins: {
    top: 30,
    bottom: 30,
    left: 15,
    right: 15
  }
}
```

---

## ğŸ“ ç©ºé–“è¨ˆç®—

### å–®å€‹å–®å…ƒçš„é«˜åº¦è¨ˆç®—
```
å–®å…ƒé«˜åº¦ = cardHeight + verticalSpacing
```

### ç¸½é«˜åº¦è¨ˆç®—
```
ç¸½é«˜åº¦ = topMargin 
       + (cardHeight Ã— itemCount) 
       + (verticalSpacing Ã— (itemCount - 1))
       + bottomMargin
```

### ä¾‹å­ï¼š3 å°å¡ç‰‡
```
ç¸½é«˜åº¦ = 30 (top)
       + (50 Ã— 3)      // 3 å€‹å¡ç‰‡ï¼Œæ¯å€‹ 50px
       + (5 Ã— 2)       // 2 å€‹é–“è·ï¼Œæ¯å€‹ 5px
       + 30 (bottom)
       = 30 + 150 + 10 + 30
       = 220px
```

### ä¾‹å­ï¼š5 å°å¡ç‰‡ï¼ˆå„ªåŒ–å¾Œï¼‰
```
ç¸½é«˜åº¦ = 20 (top)
       + (50 Ã— 5)      // 5 å€‹å¡ç‰‡ï¼Œæ¯å€‹ 50px
       + (3 Ã— 4)       // 4 å€‹é–“è·ï¼Œæ¯å€‹ 3px
       + 20 (bottom)
       = 20 + 250 + 12 + 20
       = 302px
```

---

## ğŸ”„ å¡ç‰‡å‰µå»ºæµç¨‹

### 1. è¨ˆç®—ä½ˆå±€åƒæ•¸
```javascript
const calculator = new SeparatedLayoutCalculator(width, height, itemCount);
const cardSize = calculator.calculateCardSize();
const positions = calculator.calculatePositions();
const spacing = calculator.calculateSpacing();
```

### 2. å‰µå»ºå·¦å´å¤–æ¡†
```javascript
this.createLeftContainerBox(leftX, leftStartY, cardWidth, cardHeight, leftSpacing, itemCount);
```

### 3. å‰µå»ºå·¦å´å¡ç‰‡
```javascript
currentPagePairs.forEach((pair, index) => {
  const y = leftStartY + index * leftSpacing;
  const card = this.createLeftCard(leftX, y, cardWidth, cardHeight, pair.question, pair.id);
  this.leftCards.push(card);
});
```

### 4. å‰µå»ºå³å´å¡ç‰‡
```javascript
shuffledAnswers.forEach((pair, index) => {
  const y = rightStartY + index * rightSpacing;
  const card = this.createRightCard(rightX, y, cardWidth, cardHeight, pair.answer, pair.id);
  this.rightCards.push(card);
});
```

---

## ğŸ“Š å„ªåŒ–å‰å¾Œå°æ¯”

| æŒ‡æ¨™ | å„ªåŒ–å‰ | å„ªåŒ–å¾Œ | æ”¹é€² |
|------|-------|-------|------|
| æ¯é å¡ç‰‡æ•¸ | 3 å° | 4-5 å° | +33-67% |
| é ‚éƒ¨é‚Šè· | 30px | 20px | -33% |
| åº•éƒ¨é‚Šè· | 30px | 20px | -33% |
| å¡ç‰‡é–“è· | 5px | 3px | -40% |
| å®¹å™¨åˆ©ç”¨ç‡ | ~60% | ~85% | +42% |

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… å·²å„ªåŒ–é…ç½®æ–‡ä»¶
2. â³ æ¸¬è©¦æ–°ä½ˆå±€
3. â³ é©—è­‰æ‰€æœ‰ 35 å€‹æ¸¬è©¦é€šé
4. â³ åœ¨ç€è¦½å™¨ä¸­è¦–è¦ºé©—è­‰

